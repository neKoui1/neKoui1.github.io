<!DOCTYPE html><html lang="zh-CN" data-theme="dark"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1"><title>å“ˆå¤«æ›¼ç¼–ç å’Œè§£ç  | Koui</title><meta name="keywords" content="Algorithms"><meta name="author" content="Koui"><meta name="copyright" content="Koui"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#0d0d0d"><meta name="description" content="éš¾å¾—è‡ªå·±äº²è‡ªå†™ä¸ªä½œä¸š">
<meta property="og:type" content="article">
<meta property="og:title" content="å“ˆå¤«æ›¼ç¼–ç å’Œè§£ç ">
<meta property="og:url" content="http://example.com/2022/05/09/%E5%93%88%E5%A4%AB%E6%9B%BC%E7%BC%96%E7%A0%81%E5%92%8C%E8%A7%A3%E7%A0%81/index.html">
<meta property="og:site_name" content="Koui">
<meta property="og:description" content="éš¾å¾—è‡ªå·±äº²è‡ªå†™ä¸ªä½œä¸š">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="http://example.com/img/47.jpg">
<meta property="article:published_time" content="2022-05-09T13:27:17.000Z">
<meta property="article:modified_time" content="2022-05-09T13:53:54.905Z">
<meta property="article:author" content="Koui">
<meta property="article:tag" content="Algorithms">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="http://example.com/img/47.jpg"><link rel="shortcut icon" href="/img/favicon.png"><link rel="canonical" href="http://example.com/2022/05/09/%E5%93%88%E5%A4%AB%E6%9B%BC%E7%BC%96%E7%A0%81%E5%92%8C%E8%A7%A3%E7%A0%81/"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free/css/all.min.css" media="print" onload="this.media='all'"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/node-snackbar/dist/snackbar.min.css" media="print" onload="this.media='all'"><script>const GLOBAL_CONFIG = { 
  root: '/',
  algolia: undefined,
  localSearch: undefined,
  translate: undefined,
  noticeOutdate: undefined,
  highlight: {"plugin":"highlighjs","highlightCopy":true,"highlightLang":true,"highlightHeightLimit":false},
  copy: {
    success: 'å¤åˆ¶æˆåŠŸ',
    error: 'å¤åˆ¶é”™è¯¯',
    noSupport: 'æµè§ˆå™¨ä¸æ”¯æŒ'
  },
  relativeDate: {
    homepage: false,
    post: true
  },
  runtime: 'å¤©',
  date_suffix: {
    just: 'åˆšåˆš',
    min: 'åˆ†é’Ÿå‰',
    hour: 'å°æ—¶å‰',
    day: 'å¤©å‰',
    month: 'ä¸ªæœˆå‰'
  },
  copyright: undefined,
  lightbox: 'fancybox',
  Snackbar: {"chs_to_cht":"ä½ å·²åˆ‡æ¢ä¸ºç¹ä½“","cht_to_chs":"ä½ å·²åˆ‡æ¢ä¸ºç®€ä½“","day_to_night":"ä½ å·²åˆ‡æ¢ä¸ºæ·±è‰²æ¨¡å¼","night_to_day":"ä½ å·²åˆ‡æ¢ä¸ºæµ…è‰²æ¨¡å¼","bgLight":"#49b1f5","bgDark":"#121212","position":"bottom-left"},
  source: {
    jQuery: 'https://cdn.jsdelivr.net/npm/jquery@latest/dist/jquery.min.js',
    justifiedGallery: {
      js: 'https://cdn.jsdelivr.net/npm/justifiedGallery/dist/js/jquery.justifiedGallery.min.js',
      css: 'https://cdn.jsdelivr.net/npm/justifiedGallery/dist/css/justifiedGallery.min.css'
    },
    fancybox: {
      js: 'https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@latest/dist/jquery.fancybox.min.js',
      css: 'https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@latest/dist/jquery.fancybox.min.css'
    }
  },
  isPhotoFigcaption: false,
  islazyload: false,
  isanchor: false
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = {
  title: 'å“ˆå¤«æ›¼ç¼–ç å’Œè§£ç ',
  isPost: true,
  isHome: false,
  isHighlightShrink: false,
  isToc: true,
  postUpdate: '2022-05-09 21:53:54'
}</script><noscript><style type="text/css">
  #nav {
    opacity: 1
  }
  .justified-gallery img {
    opacity: 1
  }

  #recent-posts time,
  #post-meta time {
    display: inline !important
  }
</style></noscript><script>(win=>{
    win.saveToLocal = {
      set: function setWithExpiry(key, value, ttl) {
        if (ttl === 0) return
        const now = new Date()
        const expiryDay = ttl * 86400000
        const item = {
          value: value,
          expiry: now.getTime() + expiryDay,
        }
        localStorage.setItem(key, JSON.stringify(item))
      },

      get: function getWithExpiry(key) {
        const itemStr = localStorage.getItem(key)

        if (!itemStr) {
          return undefined
        }
        const item = JSON.parse(itemStr)
        const now = new Date()

        if (now.getTime() > item.expiry) {
          localStorage.removeItem(key)
          return undefined
        }
        return item.value
      }
    }
  
    win.getScript = url => new Promise((resolve, reject) => {
      const script = document.createElement('script')
      script.src = url
      script.async = true
      script.onerror = reject
      script.onload = script.onreadystatechange = function() {
        const loadState = this.readyState
        if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
        script.onload = script.onreadystatechange = null
        resolve()
      }
      document.head.appendChild(script)
    })
  
      win.activateDarkMode = function () {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#0d0d0d')
        }
      }
      win.activateLightMode = function () {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#ffffff')
        }
      }
      const t = saveToLocal.get('theme')
    
          if (t === 'dark') activateDarkMode()
          else if (t === 'light') activateLightMode()
        
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        if (asideStatus === 'hide') {
          document.documentElement.classList.add('hide-aside')
        } else {
          document.documentElement.classList.remove('hide-aside')
        }
      }
    
    const fontSizeVal = saveToLocal.get('global-font-size')
    if (fontSizeVal !== undefined) {
      document.documentElement.style.setProperty('--global-font-size', fontSizeVal + 'px')
    }
    
    const detectApple = () => {
      if (GLOBAL_CONFIG_SITE.isHome && /iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)){
        document.documentElement.classList.add('apple')
      }
    }
    detectApple()
    })(window)</script><meta name="generator" content="Hexo 5.4.0"></head><body><div id="loading-box"><div class="loading-left-bg"></div><div class="loading-right-bg"></div><div class="spinner-box"><div class="configure-border-1"><div class="configure-core"></div></div><div class="configure-border-2"><div class="configure-core"></div></div><div class="loading-word">åŠ è½½ä¸­...</div></div></div><div id="web_bg"></div><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="avatar-img is-center"><img src="https://avatars.githubusercontent.com/u/77609544?s=400&amp;u=cc9b64e551e42cfd19084c0046e145b2cbf0f342&amp;v=4" onerror="onerror=null;src='/img/friend_404.gif'" alt="avatar"/></div><div class="site-data"><div class="data-item is-center"><div class="data-item-link"><a href="/archives/"><div class="headline">æ–‡ç« </div><div class="length-num">23</div></a></div></div><div class="data-item is-center"><div class="data-item-link"><a href="/tags/"><div class="headline">æ ‡ç­¾</div><div class="length-num">6</div></a></div></div><div class="data-item is-center"><div class="data-item-link"><a href="/categories/"><div class="headline">åˆ†ç±»</div><div class="length-num">9</div></a></div></div></div><hr/><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> ä¸»é¡µ</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> å½’æ¡£</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> æ ‡ç­¾</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> åˆ†ç±»</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> About</span></a></div></div></div></div><div class="post" id="body-wrap"><header class="post-bg" id="page-header" style="background-image: url('/img/47.jpg')"><nav id="nav"><span id="blog_name"><a id="site-name" href="/">Koui</a></span><div id="menus"><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> ä¸»é¡µ</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> å½’æ¡£</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> æ ‡ç­¾</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> åˆ†ç±»</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> About</span></a></div></div><div id="toggle-menu"><a class="site-page"><i class="fas fa-bars fa-fw"></i></a></div></div></nav><div id="post-info"><h1 class="post-title">å“ˆå¤«æ›¼ç¼–ç å’Œè§£ç </h1><div id="post-meta"><div class="meta-firstline"><span class="post-meta-date"><i class="far fa-calendar-alt fa-fw post-meta-icon"></i><span class="post-meta-label">å‘è¡¨äº</span><time class="post-meta-date-created" datetime="2022-05-09T13:27:17.000Z" title="å‘è¡¨äº 2022-05-09 21:27:17">2022-05-09</time><span class="post-meta-separator">|</span><i class="fas fa-history fa-fw post-meta-icon"></i><span class="post-meta-label">æ›´æ–°äº</span><time class="post-meta-date-updated" datetime="2022-05-09T13:53:54.905Z" title="æ›´æ–°äº 2022-05-09 21:53:54">2022-05-09</time></span><span class="post-meta-categories"><span class="post-meta-separator">|</span><i class="fas fa-inbox fa-fw post-meta-icon"></i><a class="post-meta-categories" href="/categories/Data-Structure-and-Algorithms/">Data Structure and Algorithms</a></span></div><div class="meta-secondline"></div></div></div></header><main class="layout" id="content-inner"><div id="post"><article class="post-content" id="article-container"><h1>Target &amp; Content</h1>
<p>åˆ©ç”¨å“ˆå¤«æ›¼ç¼–ç è¿›è¡Œé€šä¿¡å¯ä»¥å¤§å¤§æé«˜ä¿¡é“åˆ©ç”¨ç‡ï¼Œ ç¼©çŸ­ä¿¡æ¯ä¼ è¾“æ—¶é—´ï¼Œé™ä½ä¼ è¾“æˆæœ¬ã€‚ä½†æ˜¯ï¼Œè¿™è¦æ±‚åœ¨å‘é€ ç«¯é€šè¿‡ä¸€ä¸ªç¼–ç ç³»ç»Ÿå¯¹å¾…ä¼ æ•°æ®é¢„å…ˆç¼–ç ï¼Œåœ¨æ¥æ”¶ç«¯å°†ä¼  æ¥çš„æ•°æ®è¿›è¡Œè¯‘ç ï¼ˆå¤åŸï¼‰ã€‚å¯¹äºåŒå·¥ä¿¡é“ï¼ˆå³å¯ä»¥åŒå‘ ä¼ è¾“ä¿¡æ¯çš„ä¿¡é“ï¼‰ï¼Œæ¯ç«¯éƒ½éœ€è¦ä¸€ä¸ªå®Œæ•´çš„ç¼–/è¯‘ç ç³»ç»Ÿã€‚ è¯•ä¸ºè¿™æ ·çš„ä¿¡æ¯æ”¶å‘ç«™å†™ä¸€ä¸ªå“ˆå¤«æ›¼ç çš„ç¼–/è¯‘ç ç³»ç»Ÿã€‚</p>
<p>xiebulai,gaoci</p>
<h1>Requirement</h1>
<p>ç¼–å†™å®Œæ•´çš„ç³»ç»Ÿï¼Œè¦æ±‚å…·æœ‰ä»¥ä¸‹åŠŸèƒ½ï¼š</p>
<ol>
<li>åˆå§‹åŒ–ï¼ˆInitializationï¼‰ã€‚ä»ç»ˆç«¯è¯»å…¥å­—ç¬¦é›†å¤§å°nï¼Œä»¥åŠn ä¸ªå­—ç¬¦å’Œnä¸ªæƒå€¼ï¼Œå»ºç«‹å“ˆå¤«æ›¼æ ‘ï¼Œå¹¶å°†å®ƒå­˜å…¥æ–‡ä»¶ hfmTreeä¸­ã€‚</li>
<li>ç¼–ç (Encoding)ã€‚åˆ©ç”¨å·²å»ºå¥½çš„å“ˆå¤«æ›¼æ ‘ï¼ˆå¦‚ä¸åœ¨å†…å­˜ï¼Œåˆ™ä»æ–‡ä»¶hfmTreeä¸­è¯»å…¥ï¼‰ï¼Œå¯¹æ–‡ä»¶ToBeTranä¸­çš„æ­£æ–‡è¿›è¡Œç¼–ç ï¼Œç„¶åå°†ç»“æœå­˜å…¥æ–‡ä»¶CodeFileä¸­ã€‚</li>
<li>è¯‘ç (Decoding)ã€‚åˆ©ç”¨å·²å»ºå¥½çš„å“ˆå¤«æ›¼æ ‘å°†æ–‡ä»¶CodeFile ä¸­çš„ä»£ç è¿›è¡Œè¯‘ç ï¼Œç»“æœå­˜å…¥æ–‡ä»¶TextFileä¸­ã€‚</li>
<li>å°ä»£ç æ–‡ä»¶ï¼ˆPrint)ã€‚å°†æ–‡ä»¶CodeFileä»¥ç´§å‡‘æ ¼å¼æ˜¾ç¤ºåœ¨ç»ˆ ç«¯ä¸Šï¼Œæ¯è¡Œ50ä¸ªä»£ç ã€‚åŒæ—¶å°†æ­¤å­—ç¬¦å½¢å¼çš„ç¼–ç æ–‡ä»¶å†™å…¥æ–‡ä»¶CodePrinä¸­ã€‚</li>
<li>å°å“ˆå¤«æ›¼æ ‘(Tree printing)ã€‚å°†å·²åœ¨å†…å­˜ä¸­çš„å“ˆå¤«æ›¼æ ‘ä»¥ç›´ è§‚çš„æ–¹å¼ï¼ˆæ ‘æˆ–å‡¹å…¥è¡¨å½¢å¼ï¼‰æ˜¾ç¤ºåœ¨ç»ˆç«¯ä¸Šï¼ŒåŒæ—¶å°†æ­¤å­—ç¬¦å½¢å¼çš„å“ˆå¤«æ›¼æ ‘å†™å…¥æ–‡ä»¶TreePrintä¸­ã€‚</li>
</ol>
<p>ğŸ‘´è¿™å‘¨å¬è¯¾è¾£ï¼Œé¦–å…ˆğŸ‘´å¾—ä¼šä¸ªæ ‡å‡†åŒ–è¾“å…¥</p>
<figure class="highlight go"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">	<span class="keyword">var</span> name <span class="keyword">string</span></span><br><span class="line">	<span class="keyword">var</span> age <span class="keyword">int</span></span><br><span class="line">	input := <span class="string">&quot;Tom 12&quot;</span></span><br><span class="line">	fmt.Sscan(input, &amp;name, &amp;age)</span><br><span class="line">	fmt.Printf(<span class="string">&quot;name: %v\n&quot;</span>, name)</span><br><span class="line">	fmt.Printf(<span class="string">&quot;age: %v\n&quot;</span>, age)</span><br><span class="line">	input = <span class="string">&quot;DDD : 100&quot;</span></span><br><span class="line">	fmt.Sscanf(input, <span class="string">&quot;%s : %d&quot;</span>, &amp;name, &amp;age)</span><br><span class="line">	fmt.Printf(<span class="string">&quot;name: %v\n&quot;</span>, name)</span><br><span class="line">	fmt.Printf(<span class="string">&quot;age: %v\n&quot;</span>, age)</span><br><span class="line"></span><br><span class="line">	reader := bufio.NewReader(os.Stdin)</span><br><span class="line">	na, err := reader.ReadString(<span class="string">&#x27;\n&#x27;</span>)</span><br><span class="line">	<span class="keyword">if</span> err != <span class="literal">nil</span> &#123;</span><br><span class="line">		fmt.Println(<span class="string">&quot;err =&quot;</span>, err)</span><br><span class="line">   		<span class="keyword">return</span></span><br><span class="line">	&#125;</span><br><span class="line">	fmt.Println(na)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<ol>
<li><code>Sscan</code>å‡½æ•°æ ¹æ®ç©ºæ ¼è‡ªåŠ¨åˆ†è¾¨è¾“å…¥çš„æ˜¯å•¥</li>
<li><code>Sscanf</code>å‡½æ•°å¯ä»¥é€šè¿‡ç©ºæ ¼+æŒ‡å®šç¬¦å·çš„æ ¼å¼æ¥åˆ†å‰²å˜é‡çš„èµ‹å€¼</li>
<li>æ ‡å‡†åŒ–è¾“å…¥å­—ç¬¦ä¸²çš„é‡ç‚¹ï¼šä¸€ç›´åˆ°è¾“å…¥æ¢è¡Œç¬¦æ‰ç»“æŸï¼ˆå†æ‰“ä¸€é</li>
</ol>
<figure class="highlight go"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">	reader := bufio.NewReader(os.Stdin)</span><br><span class="line">	input, err := reader.ReadString(<span class="string">&#x27;\n&#x27;</span>)</span><br><span class="line">	<span class="keyword">if</span> err != <span class="literal">nil</span> &#123;</span><br><span class="line">		fmt.Println(<span class="string">&quot;err =&quot;</span>, err)</span><br><span class="line">		<span class="keyword">return</span></span><br><span class="line">	&#125;</span><br><span class="line">	fmt.Println(input)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h1>Initialization</h1>
<p>å†™ä¸‹<code>initilalization</code>å‡½æ•°ï¼ŒåŒ…æ‹¬ä»¥ä¸‹çš„åŠŸèƒ½ï¼š</p>
<ol>
<li>æ ‡å‡†åŒ–è¾“å…¥</li>
<li>å¾—åˆ°å“ˆå¤«æ›¼æ ‘</li>
<li>å°†æ•°æ®å†™å…¥<code>hfmTree</code>çš„æ–‡ä»¶ä¸­</li>
</ol>
<h2 id="æ ‡å‡†åŒ–è¾“å…¥ä¸å¾—åˆ°æƒå€¼">æ ‡å‡†åŒ–è¾“å…¥ä¸å¾—åˆ°æƒå€¼</h2>
<p>æ ‡å‡†åŒ–è¾“å…¥ä¸Šæ–‡å·²ç»ç»™å‡ºäº†ï¼Œæƒ³è¦å¾—åˆ°æƒå€¼å¯ä»¥ä½¿ç”¨map</p>
<figure class="highlight go"><table><tr><td class="code"><pre><span class="line">weights := <span class="built_in">make</span>(<span class="keyword">map</span>[<span class="keyword">rune</span>]<span class="keyword">int</span>)</span><br><span class="line"><span class="keyword">for</span> _, v := <span class="keyword">range</span> input &#123;</span><br><span class="line">	weights[v]++</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">for</span> i, v := <span class="keyword">range</span> weights &#123;</span><br><span class="line">	fmt.Printf(<span class="string">&quot;weights[%c] = %v\n&quot;</span>, i, v)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>ç›´æ¥range input ä¹‹åprint weightså‘ç°ä¸å¯¹åŠ²</p>
<figure class="highlight go"><table><tr><td class="code"><pre><span class="line">Please input correct <span class="keyword">string</span> :</span><br><span class="line">djaowefhnrujsgv</span><br><span class="line">weights[o] = <span class="number">1</span></span><br><span class="line">weights[h] = <span class="number">1</span></span><br><span class="line">weights[n] = <span class="number">1</span></span><br><span class="line">weights[u] = <span class="number">1</span></span><br><span class="line">weights[s] = <span class="number">1</span></span><br><span class="line">] = <span class="number">1</span>ts[</span><br><span class="line">weights[d] = <span class="number">1</span></span><br><span class="line">weights[e] = <span class="number">1</span></span><br><span class="line">weights[r] = <span class="number">1</span></span><br><span class="line">weights[g] = <span class="number">1</span></span><br><span class="line">weights[v] = <span class="number">1</span></span><br><span class="line">] = <span class="number">1</span></span><br><span class="line">weights[j] = <span class="number">2</span></span><br><span class="line">weights[w] = <span class="number">1</span></span><br><span class="line">weights[f] = <span class="number">1</span></span><br><span class="line">weights[a] = <span class="number">1</span></span><br></pre></td></tr></table></figure>
<p>æœ‰ä¿©ç©æ„æ˜¯<strong>æ‰“å°ä¸å‡ºæ¥çš„</strong></p>
<p>æ’æŸ¥åŠå¤©å‘ç°æ ‡å‡†åŒ–è¾“å…¥çš„stringæœ€åçš„ä¸¤ä¸ªç¬¦å·å±äº<code>\r\n</code>ï¼Œæ²¡æœ‰å±äºå®ƒä»¬çš„å›¾å½¢åŒ–ç¬¦å·ï¼Œæ‰€ä»¥ä¼šå¯¼è‡´å“ˆå¸Œè¡¨å¯¹åº”ä¸ä¸Š</p>
<p><strong>ä¸ºå•¥ä¼šå‡ºç°<code>/r/n</code>â€¦</strong> æ‰¾åŠå¤©ä¹Ÿæ‰¾ä¸åˆ°</p>
<figure class="highlight go"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">Initialization</span><span class="params">()</span></span> &#123;</span><br><span class="line">	fmt.Println(<span class="string">&quot;Please input correct string :&quot;</span>)</span><br><span class="line">	reader := bufio.NewReader(os.Stdin)</span><br><span class="line">	input, err := reader.ReadString(<span class="string">&#x27;\n&#x27;</span>)</span><br><span class="line">	<span class="keyword">if</span> err != <span class="literal">nil</span> &#123;</span><br><span class="line">		fmt.Println(<span class="string">&quot;err =&quot;</span>, err)</span><br><span class="line">		<span class="keyword">return</span></span><br><span class="line">	&#125;</span><br><span class="line">	weights := <span class="built_in">make</span>(<span class="keyword">map</span>[<span class="keyword">rune</span>]<span class="keyword">int</span>)</span><br><span class="line">	<span class="keyword">for</span> _, v := <span class="keyword">range</span> input &#123;</span><br><span class="line">		<span class="keyword">if</span> v == <span class="string">&#x27;\r&#x27;</span> &#123;</span><br><span class="line">			<span class="keyword">break</span></span><br><span class="line">		&#125;</span><br><span class="line">		weights[v]++</span><br><span class="line">	&#125;</span><br><span class="line">	fmt.Println(input[:<span class="built_in">len</span>(input)<span class="number">-2</span>])</span><br><span class="line">	fmt.Println(<span class="built_in">len</span>(weights))</span><br><span class="line">	<span class="keyword">for</span> i, v := <span class="keyword">range</span> weights &#123;</span><br><span class="line">		fmt.Printf(<span class="string">&quot;weights[%c] = %v\n&quot;</span>, i, v)</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">	Initialization()</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>res:</p>
<figure class="highlight go"><table><tr><td class="code"><pre><span class="line">Please input correct <span class="keyword">string</span> :</span><br><span class="line">aauib</span><br><span class="line">aauib</span><br><span class="line"><span class="number">4</span></span><br><span class="line">weights[u] = <span class="number">1</span></span><br><span class="line">weights[i] = <span class="number">1</span></span><br><span class="line">weights[b] = <span class="number">1</span></span><br><span class="line">weights[a] = <span class="number">2</span></span><br></pre></td></tr></table></figure>
<h2 id="é€šè¿‡æƒå€¼å»ºç«‹Huffman-Tree">é€šè¿‡æƒå€¼å»ºç«‹Huffman Tree</h2>
<p>å¾ˆæ˜æ˜¾çš„éœ€è¦ä¸€ä¸ªå‡åºçš„æ’åºç®—æ³•â€¦</p>
<p>æƒ³åˆ°äº†ä¹‹å‰å­¦åˆ°çš„å›è°ƒå‡½æ•°ï¼š</p>
<figure class="highlight go"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">NodesSort</span><span class="params">()</span></span> &#123;</span><br><span class="line">	less := <span class="function"><span class="keyword">func</span><span class="params">(i, j <span class="keyword">int</span>)</span> <span class="title">bool</span></span> &#123;</span><br><span class="line">		<span class="keyword">return</span> Nodes[i].Weight &lt; Nodes[j].Weight</span><br><span class="line">	&#125;</span><br><span class="line">	sort.SliceStable(Nodes, less)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>ç„¶åå“ˆå¤«æ›¼æ ‘ç”Ÿæˆå°±æ˜¯æ¯æ¬¡Nodesçš„å‰ä¸¤ä¸ªè¿æ¥æˆä¸€ä¸ªæ–°Nodeï¼Œä¸€ç›´åˆ°åªå‰©ä¸¤ä¸ªç»“ç‚¹ï¼Œæ’åºåå°±è¿ä¸Šå“ˆå¤«æ›¼æ ‘çš„æ ¹</p>
<figure class="highlight go"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">getHuffman</span><span class="params">()</span></span> &#123;</span><br><span class="line">	<span class="keyword">for</span> <span class="built_in">len</span>(Nodes) != <span class="number">2</span> &#123;</span><br><span class="line">		newNode := Constructor(<span class="number">0</span>, Nodes[<span class="number">0</span>].Weight+Nodes[<span class="number">1</span>].Weight)</span><br><span class="line">		newNode.Left = &amp;Nodes[<span class="number">0</span>]</span><br><span class="line">		newNode.Right = &amp;Nodes[<span class="number">1</span>]</span><br><span class="line">		Nodes = <span class="built_in">append</span>(Nodes, newNode)</span><br><span class="line">		Nodes = Nodes[<span class="number">2</span>:]</span><br><span class="line">		NodesSort()</span><br><span class="line">	&#125;</span><br><span class="line">	NodesSort()</span><br><span class="line">	Tree.Root.Weight = Nodes[<span class="number">0</span>].Weight + Nodes[<span class="number">1</span>].Weight</span><br><span class="line">	Tree.Root.Left = &amp;Nodes[<span class="number">0</span>]</span><br><span class="line">	Tree.Root.Right = &amp;Nodes[<span class="number">1</span>]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="ä¿å­˜äºŒå‰æ ‘åŠå†™å…¥æ–‡ä»¶">ä¿å­˜äºŒå‰æ ‘åŠå†™å…¥æ–‡ä»¶</h2>
<p>ä¿å­˜äºŒå‰æ ‘çš„æ–¹æ³•ç”¨çš„æ˜¯ä¸€æ¡è·¯èµ°åˆ°åº•ï¼Œæ£€ç´¢åˆ°nilå†è¿”å›ï¼›é©¬ä¸Šè¿˜è¦æ ¹æ®è¿™ä¸ªæ–‡ä»¶å†™å‡ºæ ‘æ¥ï¼Œfk</p>
<figure class="highlight go"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> store = <span class="built_in">make</span>([]<span class="keyword">string</span>, <span class="number">0</span>)</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">Traverse</span><span class="params">(root *Node)</span></span> &#123;</span><br><span class="line">	<span class="keyword">if</span> root == <span class="literal">nil</span> &#123;</span><br><span class="line">		store = <span class="built_in">append</span>(store, <span class="string">&quot;nil&quot;</span>)</span><br><span class="line">		<span class="keyword">return</span></span><br><span class="line">	&#125; <span class="keyword">else</span> <span class="keyword">if</span> root.Val == <span class="number">0</span> &#123;</span><br><span class="line">		store = <span class="built_in">append</span>(store, fmt.Sprintf(<span class="string">&quot;%d&quot;</span>, root.Weight))</span><br><span class="line">		Traverse(root.Left)</span><br><span class="line">		Traverse(root.Right)</span><br><span class="line">	&#125; <span class="keyword">else</span> &#123;</span><br><span class="line">		store = <span class="built_in">append</span>(store, <span class="keyword">string</span>(root.Val))</span><br><span class="line">		Traverse(root.Left)</span><br><span class="line">		Traverse(root.Right)</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>ç„¶åå°±æ˜¯æŠŠstringåˆ‡ç‰‡ä¿å­˜åœ¨<code>hfmTree.txt</code>æ–‡ä»¶ä¸­</p>
<figure class="highlight go"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">SavehfmTree</span><span class="params">()</span></span> &#123;</span><br><span class="line">	file, err := os.Create(<span class="string">&quot;hfmTree.txt&quot;</span>)</span><br><span class="line">	<span class="keyword">if</span> err != <span class="literal">nil</span> &#123;</span><br><span class="line">		fmt.Println(<span class="string">&quot;Create htfTree err =&quot;</span>, err)</span><br><span class="line">		<span class="keyword">return</span></span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">defer</span> file.Close()</span><br><span class="line"></span><br><span class="line">	write := bufio.NewWriter(file)</span><br><span class="line">	Traverse(Tree.Root)</span><br><span class="line">	<span class="keyword">for</span> _, v := <span class="keyword">range</span> store &#123;</span><br><span class="line">		write.WriteString(v + <span class="string">&quot;\n&quot;</span>)</span><br><span class="line">	&#125;</span><br><span class="line">	write.Flush()</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="æ€»è§ˆ">æ€»è§ˆ</h2>
<figure class="highlight go"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> (</span><br><span class="line">	<span class="string">&quot;bufio&quot;</span></span><br><span class="line">	<span class="string">&quot;fmt&quot;</span></span><br><span class="line">	<span class="string">&quot;os&quot;</span></span><br><span class="line">	<span class="string">&quot;sort&quot;</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="keyword">type</span> Node <span class="keyword">struct</span> &#123;</span><br><span class="line">	Val    <span class="keyword">byte</span></span><br><span class="line">	Weight <span class="keyword">int</span></span><br><span class="line">	Left   *Node</span><br><span class="line">	Right  *Node</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">type</span> HuffmanTree <span class="keyword">struct</span> &#123;</span><br><span class="line">	Root *Node</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">Constructor</span><span class="params">(v <span class="keyword">byte</span>, w <span class="keyword">int</span>)</span> <span class="title">Node</span></span> &#123;</span><br><span class="line">	<span class="keyword">return</span> Node&#123;</span><br><span class="line">		v, w, <span class="literal">nil</span>, <span class="literal">nil</span>,</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> Nodes []Node</span><br><span class="line"><span class="keyword">var</span> Tree = HuffmanTree&#123;Root: &amp;Node&#123;<span class="number">0</span>, <span class="number">0</span>, <span class="literal">nil</span>, <span class="literal">nil</span>&#125;&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">NodesSort</span><span class="params">()</span></span> &#123;</span><br><span class="line">	less := <span class="function"><span class="keyword">func</span><span class="params">(i, j <span class="keyword">int</span>)</span> <span class="title">bool</span></span> &#123;</span><br><span class="line">		<span class="keyword">return</span> Nodes[i].Weight &lt; Nodes[j].Weight</span><br><span class="line">	&#125;</span><br><span class="line">	sort.SliceStable(Nodes, less)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">getHuffman</span><span class="params">()</span></span> &#123;</span><br><span class="line">	<span class="keyword">for</span> <span class="built_in">len</span>(Nodes) != <span class="number">2</span> &#123;</span><br><span class="line">		newNode := Constructor(<span class="number">0</span>, Nodes[<span class="number">0</span>].Weight+Nodes[<span class="number">1</span>].Weight)</span><br><span class="line">		newNode.Left = &amp;Nodes[<span class="number">0</span>]</span><br><span class="line">		newNode.Right = &amp;Nodes[<span class="number">1</span>]</span><br><span class="line">		Nodes = <span class="built_in">append</span>(Nodes, newNode)</span><br><span class="line">		Nodes = Nodes[<span class="number">2</span>:]</span><br><span class="line">		NodesSort()</span><br><span class="line">	&#125;</span><br><span class="line">	NodesSort()</span><br><span class="line">	Tree.Root.Weight = Nodes[<span class="number">0</span>].Weight + Nodes[<span class="number">1</span>].Weight</span><br><span class="line">	Tree.Root.Left = &amp;Nodes[<span class="number">0</span>]</span><br><span class="line">	Tree.Root.Right = &amp;Nodes[<span class="number">1</span>]</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> store = <span class="built_in">make</span>([]<span class="keyword">string</span>, <span class="number">0</span>)</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">Traverse</span><span class="params">(root *Node)</span></span> &#123;</span><br><span class="line">	<span class="keyword">if</span> root == <span class="literal">nil</span> &#123;</span><br><span class="line">		store = <span class="built_in">append</span>(store, <span class="string">&quot;nil&quot;</span>)</span><br><span class="line">		<span class="keyword">return</span></span><br><span class="line">	&#125; <span class="keyword">else</span> <span class="keyword">if</span> root.Val == <span class="number">0</span> &#123;</span><br><span class="line">		store = <span class="built_in">append</span>(store, fmt.Sprintf(<span class="string">&quot;%d&quot;</span>, root.Weight))</span><br><span class="line">		Traverse(root.Left)</span><br><span class="line">		Traverse(root.Right)</span><br><span class="line">	&#125; <span class="keyword">else</span> &#123;</span><br><span class="line">		store = <span class="built_in">append</span>(store, <span class="keyword">string</span>(root.Val))</span><br><span class="line">		Traverse(root.Left)</span><br><span class="line">		Traverse(root.Right)</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">SavehfmTree</span><span class="params">()</span></span> &#123;</span><br><span class="line">	file, err := os.Create(<span class="string">&quot;hfmTree.txt&quot;</span>)</span><br><span class="line">	<span class="keyword">if</span> err != <span class="literal">nil</span> &#123;</span><br><span class="line">		fmt.Println(<span class="string">&quot;Create htfTree err =&quot;</span>, err)</span><br><span class="line">		<span class="keyword">return</span></span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">defer</span> file.Close()</span><br><span class="line"></span><br><span class="line">	write := bufio.NewWriter(file)</span><br><span class="line">	Traverse(Tree.Root)</span><br><span class="line">	<span class="keyword">for</span> _, v := <span class="keyword">range</span> store &#123;</span><br><span class="line">		write.WriteString(v + <span class="string">&quot;\n&quot;</span>)</span><br><span class="line">	&#125;</span><br><span class="line">	write.Flush()</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">Initialization</span><span class="params">()</span></span> &#123;</span><br><span class="line">	fmt.Println(<span class="string">&quot;Please input the correct string (more than 2 characters) :&quot;</span>)</span><br><span class="line">	reader := bufio.NewReader(os.Stdin)</span><br><span class="line">	input, err := reader.ReadString(<span class="string">&#x27;\n&#x27;</span>)</span><br><span class="line">	<span class="keyword">if</span> err != <span class="literal">nil</span> &#123;</span><br><span class="line">		fmt.Println(<span class="string">&quot;err =&quot;</span>, err)</span><br><span class="line">		<span class="keyword">return</span></span><br><span class="line">	&#125;</span><br><span class="line">	weights := <span class="built_in">make</span>(<span class="keyword">map</span>[<span class="keyword">rune</span>]<span class="keyword">int</span>)</span><br><span class="line">	<span class="keyword">for</span> _, v := <span class="keyword">range</span> input &#123;</span><br><span class="line">		<span class="keyword">if</span> v == <span class="string">&#x27;\r&#x27;</span> &#123;</span><br><span class="line">			<span class="keyword">break</span></span><br><span class="line">		&#125;</span><br><span class="line">		weights[v]++</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">for</span> i, v := <span class="keyword">range</span> weights &#123;</span><br><span class="line">		newNode := Constructor(<span class="keyword">byte</span>(i), v)</span><br><span class="line">		Nodes = <span class="built_in">append</span>(Nodes, newNode)</span><br><span class="line">	&#125;</span><br><span class="line">	NodesSort()</span><br><span class="line">	getHuffman()</span><br><span class="line">	SavehfmTree()</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">	Initialization()</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">//hfmTree.txt</span><br><span class="line">5</span><br><span class="line">2</span><br><span class="line">u</span><br><span class="line">nil</span><br><span class="line">nil</span><br><span class="line">i</span><br><span class="line">nil</span><br><span class="line">nil</span><br><span class="line">3</span><br><span class="line">b</span><br><span class="line">nil</span><br><span class="line">nil</span><br><span class="line">a</span><br><span class="line">nil</span><br><span class="line">nil</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<h1>Encoding</h1>
<p>ä¸ªäººè®¤ä¸ºï¼Œåº”è¯¥ç”¨æ–‡ä»¶ä¸­çš„å­—ç¬¦é¢‘ç‡æ¥ç”Ÿæˆå“ˆå¤«æ›¼æ ‘æ¯”è¾ƒå¥½ï¼Œå› ä¸ºè‡ªå·±ç»™å®šçš„å­—ç¬¦ä¸²å¯èƒ½ä¸ä¼šéå†åˆ°26ä¸ªå­—æ¯ï¼ˆæˆ–ç¬¦å·ï¼‰ï¼Œè¿™æ ·åœ¨å‹ç¼©æ–‡ä»¶æ—¶å¾ˆæ˜æ˜¾æ˜¯ä¼šerrorçš„</p>
<p>æˆ‘é€‰å–äº†Aliceæ¢¦æ¸¸ä»™å¢ƒçš„ç¬¬ä¸€æ®µæ¥ä½œä¸ºæ–‡ä»¶æ–‡æœ¬ğŸ˜‹ï¼ˆå…¶å®æœ¬æ¥æƒ³é€‰èå£«æ¯”äºšçš„ï¼Œä½†æ˜¯æ²¡æ‰¾åˆ°txtæ–‡ä»¶</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">Alice was beginning to get very tired of sitting by her sister on the bank, and of having nothing to do.Once or twice she had peeped into the book her sister was reading, but it had no pictures or conversations in it, &quot;and what is the use of a book,&quot; thought Alice, &quot;without pictures or conversations?&quot;So she was considering in her own mind (as well as she could, for the day made her feel very sleepy and stupid), whether the pleasure of making a daisy-chain would be worth the trouble of getting up and picking the daisies, when suddenly a White Rabbit with pink eyes ran close by her.There was nothing so very remarkable in that, nor did Alice think it so very much out of the way to hear the Rabbit say to itself, &quot;Oh dear! Oh dear! I shall be too late!&quot; But when the Rabbit actually took a watch out of its waistcoat-pocket and looked at it and then hurried on, Alice started to her feet, for it flashed across her mind that she had never before seen a rabbit with either a waistcoat-pocket, or a watch to take out of it, and, burning with curiosity, she ran across the field after it and was just in time to see it pop down a large rabbit-hole, under the hedge. In another moment, down went Alice after it! The rabbit-hole went straight on like a tunnel for some way and then dipped suddenly down, so suddenly that Alice had not a moment to think about stopping herself before she found herself falling down what seemed to be a very deep well.</span><br></pre></td></tr></table></figure>
<p>ç„¶åå°±æ˜¯æ ¹æ®è¿™ä¸€æ®µæ–‡æœ¬å»ºä¸ªå“ˆå¤«æ›¼æ ‘ï¼ŒåŒæ—¶å°†æ¯ä¸ªå­—ç¬¦å¯¹åº”çš„åºåˆ—ä½œä¸ºæ–‡ä»¶å†™ä¸‹æ¥</p>
<p>è¿™é‡Œä¸ºäº†æ–¹ä¾¿æ˜¯å¦åº”è¯¥æ•´ä¸€ä¸ªåŒå°„çš„ç»“æ„ä½“ï¼Ÿæ¯”å¦‚å­—æ¯aå°±å’Œç¼–ç 001å½¢æˆåŒå°„ï¼Œæ–¹ä¾¿ç¼–ç ä¸è§£ç çš„è½¬æ¢</p>
<p>å› ä¸ºæ˜¯å¥½å‡ å‘¨å‰å†™çš„ä»£ç ï¼Œç”¨çš„éƒ½æ˜¯å…¨å±€å˜é‡+ä¸å¸¦å‚æ•°çš„å‡½æ•°ï¼Œå›å¤´æ”¹åˆå¤ªéº»çƒ¦å°±ç…§ç€ä¹‹å‰çš„æ”¹æ”¹â€¦ï¼ˆé¡ºä¾¿è¿™å‡ å¤©å­¦äº†åŒ¿åå‡½æ•°ï¼Œå¯ä»¥ä¸ç”¨å†é¢å¤–å£°æ˜ä¸€ä¸ª<code>Traverse</code>äº†</p>
<p>å±å±±</p>
<figure class="highlight go"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">Encoding</span><span class="params">()</span></span> &#123;</span><br><span class="line">	data, err := ioutil.ReadFile(<span class="string">&quot;E:/æ•°æ®ç»“æ„å’Œç®—æ³•/Week10/Alice.txt&quot;</span>)</span><br><span class="line">	<span class="keyword">if</span> err != <span class="literal">nil</span> &#123;</span><br><span class="line">		fmt.Println(<span class="string">&quot;err =&quot;</span>, err)</span><br><span class="line">		<span class="keyword">return</span></span><br><span class="line">	&#125;</span><br><span class="line">	weights := <span class="built_in">make</span>(<span class="keyword">map</span>[<span class="keyword">rune</span>]<span class="keyword">int</span>)</span><br><span class="line">	<span class="keyword">for</span> _, v := <span class="keyword">range</span> data &#123;</span><br><span class="line">		weights[<span class="keyword">rune</span>(v)]++</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">for</span> i, v := <span class="keyword">range</span> weights &#123;</span><br><span class="line">		newNode := Constructor(<span class="keyword">byte</span>(i), v)</span><br><span class="line">		AliceNodes = <span class="built_in">append</span>(AliceNodes, newNode)</span><br><span class="line">	&#125;</span><br><span class="line">	AliceSort()</span><br><span class="line">	getAliceHuf()</span><br><span class="line"></span><br><span class="line">	<span class="comment">//æ ¹æ®å“ˆå¤«æ›¼æ ‘ç”Ÿæˆå­—ç¬¦ä¸²ç”¨äºä¿å­˜æ–‡ä»¶</span></span><br><span class="line">	<span class="keyword">var</span> trav <span class="function"><span class="keyword">func</span><span class="params">(root *Node, s <span class="keyword">string</span>)</span></span></span><br><span class="line">	str := <span class="string">&quot;&quot;</span></span><br><span class="line">	trav = <span class="function"><span class="keyword">func</span><span class="params">(root *Node, s <span class="keyword">string</span>)</span></span> &#123;</span><br><span class="line">		<span class="keyword">if</span> root == <span class="literal">nil</span> &#123;</span><br><span class="line">			<span class="keyword">return</span></span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">if</span> root.Val == <span class="number">0</span> &#123;</span><br><span class="line">			trav(root.Left, s+<span class="string">&quot;0&quot;</span>)</span><br><span class="line">			trav(root.Right, s+<span class="string">&quot;1&quot;</span>)</span><br><span class="line">		&#125; <span class="keyword">else</span> &#123;</span><br><span class="line">			newBij := Bijection&#123;</span><br><span class="line">				root.Val, s,</span><br><span class="line">			&#125;</span><br><span class="line">			AliceStore = <span class="built_in">append</span>(AliceStore, newBij)</span><br><span class="line">			trav(root.Left, s+<span class="string">&quot;0&quot;</span>)</span><br><span class="line">			trav(root.Right, s+<span class="string">&quot;1&quot;</span>)</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">	trav(AliceTree.Root, str)</span><br><span class="line"></span><br><span class="line">	<span class="comment">//åˆ›å»ºå“ˆå¤«æ›¼ç¼–ç çš„æ–‡ä»¶</span></span><br><span class="line">	file, err := os.Create(<span class="string">&quot;HufCode.txt&quot;</span>)</span><br><span class="line">	<span class="keyword">if</span> err != <span class="literal">nil</span> &#123;</span><br><span class="line">		fmt.Println(<span class="string">&quot;Encoding create file err =&quot;</span>, err)</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">defer</span> file.Close()</span><br><span class="line">	write := bufio.NewWriter(file)</span><br><span class="line">	<span class="keyword">for</span> _, v := <span class="keyword">range</span> AliceStore &#123;</span><br><span class="line">		write.WriteString(<span class="keyword">string</span>(v.Char) + <span class="string">&quot; &quot;</span> + v.Str + <span class="string">&quot;\n&quot;</span>)</span><br><span class="line">	&#125;</span><br><span class="line">	write.Flush()</span><br><span class="line"></span><br><span class="line">	EncodeFile, err := os.Create(<span class="string">&quot;CodeFile.txt&quot;</span>)</span><br><span class="line">	<span class="keyword">if</span> err != <span class="literal">nil</span> &#123;</span><br><span class="line">		fmt.Println(<span class="string">&quot;Encode file create err =&quot;</span>, err)</span><br><span class="line">		<span class="keyword">return</span></span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">defer</span> EncodeFile.Close()</span><br><span class="line"></span><br><span class="line">	write = bufio.NewWriter(EncodeFile)</span><br><span class="line"></span><br><span class="line">	<span class="comment">//åˆ›å»ºä¸€ä¸ªbyte -&gt; stringçš„æ˜ å°„</span></span><br><span class="line">	x := <span class="built_in">make</span>(<span class="keyword">map</span>[<span class="keyword">byte</span>]<span class="keyword">string</span>)</span><br><span class="line">	<span class="keyword">for</span> _, v := <span class="keyword">range</span> AliceStore &#123;</span><br><span class="line">		x[v.Char] = v.Str</span><br><span class="line">	&#125;</span><br><span class="line">	write.Flush()</span><br><span class="line">	<span class="keyword">for</span> _, v := <span class="keyword">range</span> data &#123;</span><br><span class="line">		write.WriteString(x[v] + <span class="string">&quot; &quot;</span>)</span><br><span class="line">		write.Flush()</span><br><span class="line">	&#125;</span><br><span class="line">	write.Flush()</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h1>Decoding</h1>
<p>ç¼–ç å’Œè§£ç å…¶å®éƒ½æŒºç®€å•çš„</p>
<p>ç”¨ç»“æ„ä½“æ•°ç»„æ„é€ åŒå°„è¿˜æ˜¯å¤±è´¥äº†ï¼Œå› ä¸ºå¦‚æœæ˜¯ç»“æ„ä½“æ•°ç»„ï¼Œè¿˜æ˜¯å¾—éå†ä¸€éæ•°ç»„ç´¢å¼•æ‰èƒ½æ‰¾åˆ°å¯¹åº”çš„key/valueå€¼ï¼Œæ²¡æœ‰å“ˆå¸Œè¡¨çº¿ç¨‹æ± è¿™ç§ä¸œè¥¿æŸ¥æ‰¾æ–¹ä¾¿â€¦</p>
<figure class="highlight go"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">Decoding</span><span class="params">()</span></span> &#123;</span><br><span class="line">	data, err := ioutil.ReadFile(<span class="string">&quot;CodeFile.txt&quot;</span>)</span><br><span class="line">	<span class="keyword">if</span> err != <span class="literal">nil</span> &#123;</span><br><span class="line">		fmt.Println(<span class="string">&quot;Decoding read file err =&quot;</span>, err)</span><br><span class="line">		<span class="keyword">return</span></span><br><span class="line">	&#125;</span><br><span class="line">	<span class="comment">//åˆ›å»ºä¸€ä¸ªstring -&gt; byteçš„æ˜ å°„</span></span><br><span class="line">	y := <span class="built_in">make</span>(<span class="keyword">map</span>[<span class="keyword">string</span>]<span class="keyword">byte</span>)</span><br><span class="line">	<span class="keyword">for</span> _, v := <span class="keyword">range</span> AliceStore &#123;</span><br><span class="line">		y[v.Str] = v.Char</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	Decodefile, err := os.Create(<span class="string">&quot;TextFile.txt&quot;</span>)</span><br><span class="line">	<span class="keyword">if</span> err != <span class="literal">nil</span> &#123;</span><br><span class="line">		fmt.Println(<span class="string">&quot;Decoding create file err =&quot;</span>, err)</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">defer</span> Decodefile.Close()</span><br><span class="line"></span><br><span class="line">	writer := bufio.NewWriter(Decodefile)</span><br><span class="line">	s := <span class="string">&quot;&quot;</span></span><br><span class="line">	<span class="keyword">for</span> _, v := <span class="keyword">range</span> data &#123;</span><br><span class="line">		<span class="keyword">if</span> v == <span class="string">&#x27; &#x27;</span> &#123;</span><br><span class="line">			writer.WriteByte(y[s])</span><br><span class="line">			s = <span class="string">&quot;&quot;</span></span><br><span class="line">			writer.Flush()</span><br><span class="line">			<span class="keyword">continue</span></span><br><span class="line">		&#125; <span class="keyword">else</span> &#123;</span><br><span class="line">			s += <span class="keyword">string</span>(v)</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>è¿™æ˜¯æ‰“å°å‡ºæ¥çš„ç¼–ç æ–‡ä»¶ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">10001011 01101 0111 101111 1111 00 111010 1010 11100 00 110100 1111 100001 0111 0101 0101 0111 0101 100001 00 1100 1001 00 100001 1111 1100 00 11101111 1111 11011 100000 00 1100 0111 11011 1111 10110 00 1001 100011 00 11100 0111 1100 1100 0111 0101 100001 00 110100 100000 00 0100 1111 11011 00 11100 0111 11100 1100 1111 11011 00 1001 0101 00 1100 0100 1111 00 110100 1010 0101 1110110 011001 00 1010 0101 10110 00 1001 100011 00 0100 1010 11101111 0111 0101 100001 00 0101 1001 1100 0100 0111 0101 100001 00 1100 1001 00 10110 1001 101110111 101110101 0101 101111 1111 00 1001 11011 00 1100 111010 0111 101111 1111 00 11100 0100 1111 00 0100 1010 10110 00 011000 1111 1111 011000 1111 10110 00 0111 0101 1100 1001 00 1100 0100 1111 00 110100 1001 1001 1110110 00 0100 1111 11011 00 11100 0111 11100 1100 1111 11011 00 111010 1010 11100 00 11011 1111 1010 10110 0111 0101 100001 011001 00 110100 110101 1100 00 0111 1100 00 0100 1010 10110 00 0101 1001 00 011000 0111 101111 1100 110101 11011 1111 11100 00 1001 11011 00 101111 1001 0101 11101111 1111 11011 11100 1010 1100 0111 1001 0101 11100 00 0111 0101 00 0111 1100 011001 00 10001010 1010 0101 10110 00 111010 0100 1010 1100 00 0111 11100 00 1100 0100 1111 00 110101 11100 1111 00 1001 100011 00 1010 00 110100 1001 1001 1110110 011001 10001010 00 1100 0100 1001 110101 100001 0100 1100 00 10001011 01101 0111 101111 1111 011001 00 10001010 111010 0111 1100 0100 1001 110101 1100 00 011000 0111 101111 1100 110101 11011 1111 11100 00 1001 11011 00 101111 1001 0101 11101111 1111 11011 11100 1010 1100 0111 1001 0101 11100 1000100000 10001010 1000100011 1001 00 11100 0100 1111 00 111010 1010 11100 00 101111 1001 0101 11100 0111 10110 1111 11011 0111 0101 100001 00 0111 0101 00 0100 1111 11011 00 1001 111010 0101 00 1011100 0111 0101 10110 00 1000100001 1010 11100 00 111010 1111 01101 01101 00 1010 11100 00 11100 0100 1111 00 101111 1001 110101 01101 10110 011001 00 100011 1001 11011 00 1100 0100 1111 00 10110 1010 100000 00 1011100 1010 10110 1111 00 0100 1111 11011 00 100011 1111 1111 01101 00 11101111 1111 11011 100000 00 11100 01101 1111 1111 011000 100000 00 1010 0101 10110 00 11100 1100 110101 011000 0111 10110 1011101100 011001 00 111010 0100 1111 1100 0100 1111 11011 00 1100 0100 1111 00 011000 01101 1111 1010 11100 110101 11011 1111 00 1001 100011 00 1011100 1010 1110110 0111 0101 100001 00 1010 00 10110 1010 0111 11100 100000 10001001 101111 0100 1010 0111 0101 00 111010 1001 110101 01101 10110 00 110100 1111 00 111010 1001 11011 1100 0100 00 1100 0100 1111 00 1100 11011 1001 110101 110100 01101 1111 00 1001 100011 00 100001 1111 1100 1100 0111 0101 100001 00 110101 011000 00 1010 0101 10110 00 011000 0111 101111 1110110 0111 0101 100001 00 1100 0100 1111 00 10110 1010 0111 11100 0111 1111 11100 011001 00 111010 0100 1111 0101 00 11100 110101 10110 10110 1111 0101 01101 100000 00 1010 00 11101110110 0100 0111 1100 1111 00 101110100 1010 110100 110100 0111 1100 00 111010 0111 1100 0100 00 011000 0111 0101 1110110 00 1111 100000 1111 11100 00 11011 1010 0101 00 101111 01101 1001 11100 1111 00 110100 100000 00 0100 1111 11011 101110111 1110111010 0100 1111 11011 1111 00 111010 1010 11100 00 0101 1001 1100 0100 0111 0101 100001 00 11100 1001 00 11101111 1111 11011 100000 00 11011 1111 1011100 1010 11011 1110110 1010 110100 01101 1111 00 0111 0101 00 1100 0100 1010 1100 011001 00 0101 1001 11011 00 10110 0111 10110 00 10001011 01101 0111 101111 1111 00 1100 0100 0111 0101 1110110 00 0111 1100 00 11100 1001 00 11101111 1111 11011 100000 00 1011100 110101 101111 0100 00 1001 110101 1100 00 1001 100011 00 1100 0100 1111 00 111010 1010 100000 00 1100 1001 00 0100 1111 1010 11011 00 1100 0100 1111 00 101110100 1010 110100 110100 0111 1100 00 11100 1010 100000 00 1100 1001 00 0111 1100 11100 1111 01101 100011 011001 00 10001010 101110101 0100 00 10110 1111 1010 11011 111011100 00 101110101 0100 00 10110 1111 1010 11011 111011100 00 1011101101 00 11100 0100 1010 01101 01101 00 110100 1111 00 1100 1001 1001 00 01101 1010 1100 1111 111011100 10001010 00 1000100010 110101 1100 00 111010 0100 1111 0101 00 1100 0100 1111 00 101110100 1010 110100 110100 0111 1100 00 1010 101111 1100 110101 1010 01101 01101 100000 00 1100 1001 1001 1110110 00 1010 00 111010 1010 1100 101111 0100 00 1001 110101 1100 00 1001 100011 00 0111 1100 11100 00 111010 1010 0111 11100 1100 101111 1001 1010 1100 10001001 011000 1001 101111 1110110 1111 1100 00 1010 0101 10110 00 01101 1001 1001 1110110 1111 10110 00 1010 1100 00 0111 1100 00 1010 0101 10110 00 1100 0100 1111 0101 00 0100 110101 11011 11011 0111 1111 10110 00 1001 0101 011001 00 10001011 01101 0111 101111 1111 00 11100 1100 1010 11011 1100 1111 10110 00 1100 1001 00 0100 1111 11011 00 100011 1111 1111 1100 011001 00 100011 1001 11011 00 0111 1100 00 100011 01101 1010 11100 0100 1111 10110 00 1010 101111 11011 1001 11100 11100 00 0100 1111 11011 00 1011100 0111 0101 10110 00 1100 0100 1010 1100 00 11100 0100 1111 00 0100 1010 10110 00 0101 1111 11101111 1111 11011 00 110100 1111 100011 1001 11011 1111 00 11100 1111 1111 0101 00 1010 00 11011 1010 110100 110100 0111 1100 00 111010 0111 1100 0100 00 1111 0111 1100 0100 1111 11011 00 1010 00 111010 1010 0111 11100 1100 101111 1001 1010 1100 10001001 011000 1001 101111 1110110 1111 1100 011001 00 1001 11011 00 1010 00 111010 1010 1100 101111 0100 00 1100 1001 00 1100 1010 1110110 1111 00 1001 110101 1100 00 1001 100011 00 0111 1100 011001 00 1010 0101 10110 011001 00 110100 110101 11011 0101 0111 0101 100001 00 111010 0111 1100 0100 00 101111 110101 11011 0111 1001 11100 0111 1100 100000 011001 00 11100 0100 1111 00 11011 1010 0101 00 1010 101111 11011 1001 11100 11100 00 1100 0100 1111 00 100011 0111 1111 01101 10110 00 1010 100011 1100 1111 11011 00 0111 1100 00 1010 0101 10110 00 111010 1010 11100 00 11101110111 110101 11100 1100 00 0111 0101 00 1100 0111 1011100 1111 00 1100 1001 00 11100 1111 1111 00 0111 1100 00 011000 1001 011000 00 10110 1001 111010 0101 00 1010 00 01101 1010 11011 100001 1111 00 11011 1010 110100 110100 0111 1100 10001001 0100 1001 01101 1111 011001 00 110101 0101 10110 1111 11011 00 1100 0100 1111 00 0100 1111 10110 100001 1111 101110111 00 1011101101 0101 00 1010 0101 1001 1100 0100 1111 11011 00 1011100 1001 1011100 1111 0101 1100 011001 00 10110 1001 111010 0101 00 111010 1111 0101 1100 00 10001011 01101 0111 101111 1111 00 1010 100011 1100 1111 11011 00 0111 1100 111011100 00 1110111010 0100 1111 00 11011 1010 110100 110100 0111 1100 10001001 0100 1001 01101 1111 00 111010 1111 0101 1100 00 11100 1100 11011 1010 0111 100001 0100 1100 00 1001 0101 00 01101 0111 1110110 1111 00 1010 00 1100 110101 0101 0101 1111 01101 00 100011 1001 11011 00 11100 1001 1011100 1111 00 111010 1010 100000 00 1010 0101 10110 00 1100 0100 1111 0101 00 10110 0111 011000 011000 1111 10110 00 11100 110101 10110 10110 1111 0101 01101 100000 00 10110 1001 111010 0101 011001 00 11100 1001 00 11100 110101 10110 10110 1111 0101 01101 100000 00 1100 0100 1010 1100 00 10001011 01101 0111 101111 1111 00 0100 1010 10110 00 0101 1001 1100 00 1010 00 1011100 1001 1011100 1111 0101 1100 00 1100 1001 00 1100 0100 0111 0101 1110110 00 1010 110100 1001 110101 1100 00 11100 1100 1001 011000 011000 0111 0101 100001 00 0100 1111 11011 11100 1111 01101 100011 00 110100 1111 100011 1001 11011 1111 00 11100 0100 1111 00 100011 1001 110101 0101 10110 00 0100 1111 11011 11100 1111 01101 100011 00 100011 1010 01101 01101 0111 0101 100001 00 10110 1001 111010 0101 00 111010 0100 1010 1100 00 11100 1111 1111 1011100 1111 10110 00 1100 1001 00 110100 1111 00 1010 00 11101111 1111 11011 100000 00 10110 1111 1111 011000 00 111010 1111 01101 01101 101110111 </span><br></pre></td></tr></table></figure>
<h1>Print</h1>
<figure class="highlight go"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">Print</span><span class="params">()</span></span> &#123;</span><br><span class="line">	data, err := ioutil.ReadFile(<span class="string">&quot;CodeFile.txt&quot;</span>)</span><br><span class="line">	<span class="keyword">if</span> err != <span class="literal">nil</span> &#123;</span><br><span class="line">		fmt.Println(<span class="string">&quot;Print read file err =&quot;</span>, err)</span><br><span class="line">		<span class="keyword">return</span></span><br><span class="line">	&#125;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">//è¿™é‡Œé˜²æ­¢å¼•ç”¨ç±»å‹å‡ºé”™å’Œå‡ºç°Goä¸“å±çš„åˆ‡ç‰‡å®¹é‡bugï¼Œæ‰€ä»¥ä½¿ç”¨ä¸€ä¸ªcopy</span></span><br><span class="line">	fileCopy := <span class="built_in">make</span>([]<span class="keyword">byte</span>, <span class="built_in">len</span>(data))</span><br><span class="line">	<span class="built_in">copy</span>(fileCopy, data)</span><br><span class="line">	<span class="keyword">for</span> i := <span class="keyword">range</span> data &#123;</span><br><span class="line">		<span class="keyword">if</span> i != <span class="number">0</span> &amp;&amp; i%<span class="number">50</span> == <span class="number">0</span> &#123;</span><br><span class="line">			fileCopy = <span class="built_in">append</span>(fileCopy[:i], <span class="built_in">append</span>([]<span class="keyword">byte</span>&#123;<span class="string">&#x27;\n&#x27;</span>&#125;, fileCopy[i+<span class="number">1</span>:]...)...)</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">    </span><br><span class="line">	CodePrinFile, err := os.Create(<span class="string">&quot;CodePrin.txt&quot;</span>)</span><br><span class="line">	<span class="keyword">if</span> err != <span class="literal">nil</span> &#123;</span><br><span class="line">		fmt.Println(<span class="string">&quot;CodePrin file create err =&quot;</span>, err)</span><br><span class="line">		<span class="keyword">return</span></span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">defer</span> CodePrinFile.Close()</span><br><span class="line">    </span><br><span class="line">	writer := bufio.NewWriter(CodePrinFile)</span><br><span class="line">	writer.WriteString(<span class="keyword">string</span>(fileCopy))</span><br><span class="line">	writer.Flush()</span><br><span class="line"></span><br><span class="line">	<span class="keyword">for</span> _, v := <span class="keyword">range</span> fileCopy &#123;</span><br><span class="line">		fmt.Printf(<span class="string">&quot;%c&quot;</span>, v)</span><br><span class="line">	&#125;</span><br><span class="line">	fmt.Println()</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">10001011 01101 0111 101111 1111 00 111010 1010 110</span><br><span class="line">1 00 110100 1111 100001 0111 0101 0101 0111 0101 </span><br><span class="line">00001 00 1100 1001 00 100001 1111 1100 00 1110111</span><br><span class="line"> 1111 11100 011001 00 1100 0111 11100 1111 10110 </span><br><span class="line">0 1001 100011 00 11011 0111 1100 1100 0111 0101 1</span><br><span class="line">0001 00 110100 011001 00 0100 1111 11100 00 11011</span><br><span class="line">0111 11011 1100 1111 11100 00 1001 0101 00 1100 0</span><br><span class="line">00 1111 00 110100 1010 0101 1110110 100000 00 101</span><br><span class="line"> 0101 10110 00 1001 100011 00 0100 1010 11101111 </span><br><span class="line">111 0101 100001 00 0101 1001 1100 0100 0111 0101 </span><br><span class="line">00001 00 1100 1001 00 10110 1001 111011100 101110</span><br><span class="line">01 0101 101111 1111 00 1001 11100 00 1100 111010 </span><br><span class="line">111 101111 1111 00 11011 0100 1111 00 0100 1010 1</span><br><span class="line">110 00 011000 1111 1111 011000 1111 10110 00 0111</span><br><span class="line">0101 1100 1001 00 1100 0100 1111 00 110100 1001 1</span><br><span class="line">01 1110110 00 0100 1111 11100 00 11011 0111 11011</span><br><span class="line">1100 1111 11100 00 111010 1010 11011 00 11100 111</span><br><span class="line"> 1010 10110 0111 0101 100001 100000 00 110100 110</span><br><span class="line">01 1100 00 0111 1100 00 0100 1010 10110 00 0101 1</span><br><span class="line">01 00 011000 0111 101111 1100 110101 11100 1111 1</span><br><span class="line">011 00 1001 11100 00 101111 1001 0101 11101111 11</span><br><span class="line">1 11100 11011 1010 1100 0111 1001 0101 11011 00 0</span><br><span class="line">11 0101 00 0111 1100 100000 00 10001010 1010 0101</span><br><span class="line">10110 00 111010 0100 1010 1100 00 0111 11011 00 1</span><br><span class="line">00 0100 1111 00 110101 11011 1111 00 1001 100011 </span><br><span class="line">0 1010 00 110100 1001 1001 1110110 100000 1000101</span><br><span class="line"> 00 1100 0100 1001 110101 100001 0100 1100 00 100</span><br><span class="line">1011 01101 0111 101111 1111 100000 00 10001010 11</span><br><span class="line">010 0111 1100 0100 1001 110101 1100 00 011000 011</span><br><span class="line"> 101111 1100 110101 11100 1111 11011 00 1001 1110</span><br><span class="line"> 00 101111 1001 0101 11101111 1111 11100 11011 10</span><br><span class="line">0 1100 0111 1001 0101 11011 11101110110 10001010 </span><br><span class="line">000100000 1001 00 11011 0100 1111 00 111010 1010 </span><br><span class="line">1011 00 101111 1001 0101 11011 0111 10110 1111 11</span><br><span class="line">00 0111 0101 100001 00 0111 0101 00 0100 1111 111</span><br><span class="line">0 00 1001 111010 0101 00 1011100 0111 0101 10110 </span><br><span class="line">0 1000100010 1010 11011 00 111010 1111 01101 0110</span><br><span class="line"> 00 1010 11011 00 11011 0100 1111 00 101111 1001 </span><br><span class="line">10101 01101 10110 100000 00 100011 1001 11100 00 </span><br><span class="line">100 0100 1111 00 10110 1010 011001 00 1011100 101</span><br><span class="line"> 10110 1111 00 0100 1111 11100 00 100011 1111 111</span><br><span class="line"> 01101 00 11101111 1111 11100 011001 00 11011 011</span><br><span class="line">1 1111 1111 011000 011001 00 1010 0101 10110 00 1</span><br><span class="line">011 1100 110101 011000 0111 10110 11101110111 100</span><br><span class="line">00 00 111010 0100 1111 1100 0100 1111 11100 00 11</span><br><span class="line">0 0100 1111 00 011000 01101 1111 1010 11011 11010</span><br><span class="line"> 11100 1111 00 1001 100011 00 1011100 1010 111011</span><br><span class="line"> 0111 0101 100001 00 1010 00 10110 1010 0111 1101</span><br><span class="line"> 011001 10001001 101111 0100 1010 0111 0101 00 11</span><br><span class="line">010 1001 110101 01101 10110 00 110100 1111 00 111</span><br><span class="line">10 1001 11100 1100 0100 00 1100 0100 1111 00 1100</span><br><span class="line">11100 1001 110101 110100 01101 1111 00 1001 10001</span><br><span class="line"> 00 100001 1111 1100 1100 0111 0101 100001 00 110</span><br><span class="line">01 011000 00 1010 0101 10110 00 011000 0111 10111</span><br><span class="line"> 1110110 0111 0101 100001 00 1100 0100 1111 00 10</span><br><span class="line">10 1010 0111 11011 0111 1111 11011 100000 00 1110</span><br><span class="line">0 0100 1111 0101 00 11011 110101 10110 10110 1111</span><br><span class="line">0101 01101 011001 00 1010 00 1000100001 0100 0111</span><br><span class="line">1100 1111 00 101110100 1010 110100 110100 0111 11</span><br><span class="line">0 00 111010 0111 1100 0100 00 011000 0111 0101 11</span><br><span class="line">0110 00 1111 011001 1111 11011 00 11100 1010 0101</span><br><span class="line">00 101111 01101 1001 11011 1111 00 110100 011001 </span><br><span class="line">0 0100 1111 11100 111011100 1011101101 0100 1111 </span><br><span class="line">1100 1111 00 111010 1010 11011 00 0101 1001 1100 </span><br><span class="line">100 0111 0101 100001 00 11011 1001 00 11101111 11</span><br><span class="line">1 11100 011001 00 11100 1111 1011100 1010 11100 1</span><br><span class="line">10110 1010 110100 01101 1111 00 0111 0101 00 1100</span><br><span class="line">0100 1010 1100 100000 00 0101 1001 11100 00 10110</span><br><span class="line">0111 10110 00 10001011 01101 0111 101111 1111 00 </span><br><span class="line">100 0100 0111 0101 1110110 00 0111 1100 00 11011 </span><br><span class="line">001 00 11101111 1111 11100 011001 00 1011100 1101</span><br><span class="line">1 101111 0100 00 1001 110101 1100 00 1001 100011 </span><br><span class="line">0 1100 0100 1111 00 111010 1010 011001 00 1100 10</span><br><span class="line">1 00 0100 1111 1010 11100 00 1100 0100 1111 00 10</span><br><span class="line">110100 1010 110100 110100 0111 1100 00 11011 1010</span><br><span class="line">011001 00 1100 1001 00 0111 1100 11011 1111 01101</span><br><span class="line">100011 100000 00 10001010 101110101 0100 00 10110</span><br><span class="line">1111 1010 11100 101110111 00 101110101 0100 00 10</span><br><span class="line">10 1111 1010 11100 101110111 00 1110111010 00 110</span><br><span class="line">1 0100 1010 01101 01101 00 110100 1111 00 1100 10</span><br><span class="line">1 1001 00 01101 1010 1100 1111 101110111 10001010</span><br><span class="line">00 1000100011 110101 1100 00 111010 0100 1111 010</span><br><span class="line"> 00 1100 0100 1111 00 101110100 1010 110100 11010</span><br><span class="line"> 0111 1100 00 1010 101111 1100 110101 1010 01101 </span><br><span class="line">1101 011001 00 1100 1001 1001 1110110 00 1010 00 </span><br><span class="line">11010 1010 1100 101111 0100 00 1001 110101 1100 0</span><br><span class="line"> 1001 100011 00 0111 1100 11011 00 111010 1010 01</span><br><span class="line">1 11011 1100 101111 1001 1010 1100 10001001 01100</span><br><span class="line"> 1001 101111 1110110 1111 1100 00 1010 0101 10110</span><br><span class="line">00 01101 1001 1001 1110110 1111 10110 00 1010 110</span><br><span class="line"> 00 0111 1100 00 1010 0101 10110 00 1100 0100 111</span><br><span class="line"> 0101 00 0100 110101 11100 11100 0111 1111 10110 </span><br><span class="line">0 1001 0101 100000 00 10001011 01101 0111 101111 </span><br><span class="line">111 00 11011 1100 1010 11100 1100 1111 10110 00 1</span><br><span class="line">00 1001 00 0100 1111 11100 00 100011 1111 1111 11</span><br><span class="line">0 100000 00 100011 1001 11100 00 0111 1100 00 100</span><br><span class="line">11 01101 1010 11011 0100 1111 10110 00 1010 10111</span><br><span class="line"> 11100 1001 11011 11011 00 0100 1111 11100 00 101</span><br><span class="line">100 0111 0101 10110 00 1100 0100 1010 1100 00 110</span><br><span class="line">1 0100 1111 00 0100 1010 10110 00 0101 1111 11101</span><br><span class="line">11 1111 11100 00 110100 1111 100011 1001 11100 11</span><br><span class="line">1 00 11011 1111 1111 0101 00 1010 00 11100 1010 1</span><br><span class="line">0100 110100 0111 1100 00 111010 0111 1100 0100 00</span><br><span class="line">1111 0111 1100 0100 1111 11100 00 1010 00 111010 </span><br><span class="line">010 0111 11011 1100 101111 1001 1010 1100 1000100</span><br><span class="line"> 011000 1001 101111 1110110 1111 1100 100000 00 1</span><br><span class="line">01 11100 00 1010 00 111010 1010 1100 101111 0100 </span><br><span class="line">0 1100 1001 00 1100 1010 1110110 1111 00 1001 110</span><br><span class="line">01 1100 00 1001 100011 00 0111 1100 100000 00 101</span><br><span class="line"> 0101 10110 100000 00 110100 110101 11100 0101 01</span><br><span class="line">1 0101 100001 00 111010 0111 1100 0100 00 101111 </span><br><span class="line">10101 11100 0111 1001 11011 0111 1100 011001 1000</span><br><span class="line">0 00 11011 0100 1111 00 11100 1010 0101 00 1010 1</span><br><span class="line">1111 11100 1001 11011 11011 00 1100 0100 1111 00 </span><br><span class="line">00011 0111 1111 01101 10110 00 1010 100011 1100 1</span><br><span class="line">11 11100 00 0111 1100 00 1010 0101 10110 00 11101</span><br><span class="line"> 1010 11011 00 1011101100 110101 11011 1100 00 01</span><br><span class="line">1 0101 00 1100 0111 1011100 1111 00 1100 1001 00 </span><br><span class="line">1011 1111 1111 00 0111 1100 00 011000 1001 011000</span><br><span class="line">00 10110 1001 111010 0101 00 1010 00 01101 1010 1</span><br><span class="line">100 100001 1111 00 11100 1010 110100 110100 0111 </span><br><span class="line">100 10001001 0100 1001 01101 1111 100000 00 11010</span><br><span class="line"> 0101 10110 1111 11100 00 1100 0100 1111 00 0100 </span><br><span class="line">111 10110 100001 1111 111011100 00 1110111010 010</span><br><span class="line"> 00 1010 0101 1001 1100 0100 1111 11100 00 101110</span><br><span class="line"> 1001 1011100 1111 0101 1100 100000 00 10110 1001</span><br><span class="line">111010 0101 00 111010 1111 0101 1100 00 10001011 </span><br><span class="line">1101 0111 101111 1111 00 1010 100011 1100 1111 11</span><br><span class="line">00 00 0111 1100 101110111 00 1011101101 0100 1111</span><br><span class="line">00 11100 1010 110100 110100 0111 1100 10001001 01</span><br><span class="line">0 1001 01101 1111 00 111010 1111 0101 1100 00 110</span><br><span class="line">1 1100 11100 1010 0111 100001 0100 1100 00 1001 0</span><br><span class="line">01 00 01101 0111 1110110 1111 00 1010 00 1100 110</span><br><span class="line">01 0101 0101 1111 01101 00 100011 1001 11100 00 1</span><br><span class="line">011 1001 1011100 1111 00 111010 1010 011001 00 10</span><br><span class="line">0 0101 10110 00 1100 0100 1111 0101 00 10110 0111</span><br><span class="line">011000 011000 1111 10110 00 11011 110101 10110 10</span><br><span class="line">10 1111 0101 01101 011001 00 10110 1001 111010 01</span><br><span class="line">1 100000 00 11011 1001 00 11011 110101 10110 1011</span><br><span class="line"> 1111 0101 01101 011001 00 1100 0100 1010 1100 00</span><br><span class="line">10001011 01101 0111 101111 1111 00 0100 1010 1011</span><br><span class="line"> 00 0101 1001 1100 00 1010 00 1011100 1001 101110</span><br><span class="line"> 1111 0101 1100 00 1100 1001 00 1100 0100 0111 01</span><br><span class="line">1 1110110 00 1010 110100 1001 110101 1100 00 1101</span><br><span class="line"> 1100 1001 011000 011000 0111 0101 100001 00 0100</span><br><span class="line">1111 11100 11011 1111 01101 100011 00 110100 1111</span><br><span class="line">100011 1001 11100 1111 00 11011 0100 1111 00 1000</span><br><span class="line">1 1001 110101 0101 10110 00 0100 1111 11100 11011</span><br><span class="line">1111 01101 100011 00 100011 1010 01101 01101 0111</span><br><span class="line">0101 100001 00 10110 1001 111010 0101 00 111010 0</span><br><span class="line">00 1010 1100 00 11011 1111 1111 1011100 1111 1011</span><br><span class="line"> 00 1100 1001 00 110100 1111 00 1010 00 11101111 </span><br><span class="line">111 11100 011001 00 10110 1111 1111 011000 00 111</span><br><span class="line">10 1111 01101 01101 111011100 </span><br></pre></td></tr></table></figure>
<h1>Tree printing</h1>
<figure class="highlight go"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">TreePrinting</span><span class="params">()</span></span> &#123;</span><br><span class="line">	<span class="keyword">var</span> PrintHelp <span class="function"><span class="keyword">func</span><span class="params">(root *Node, s <span class="keyword">string</span>)</span></span></span><br><span class="line">	PrintHelp = <span class="function"><span class="keyword">func</span><span class="params">(root *Node, s <span class="keyword">string</span>)</span></span> &#123;</span><br><span class="line">		<span class="keyword">if</span> root == <span class="literal">nil</span> &#123;</span><br><span class="line">			<span class="keyword">return</span></span><br><span class="line">		&#125;</span><br><span class="line">		s += <span class="string">&quot;\t&quot;</span></span><br><span class="line">		PrintHelp(root.Right, s)</span><br><span class="line">		<span class="keyword">if</span> root.Val == <span class="number">0</span> &#123;</span><br><span class="line">			fmt.Printf(s+<span class="string">&quot; %d\n&quot;</span>, root.Weight)</span><br><span class="line">		&#125; <span class="keyword">else</span> &#123;</span><br><span class="line">			fmt.Printf(s+<span class="string">&quot;%c%d\n&quot;</span>, root.Val, root.Weight)</span><br><span class="line">		&#125;</span><br><span class="line">		PrintHelp(root.Left, s)</span><br><span class="line">	&#125;</span><br><span class="line">	PrintHelp(AliceTree.Root, <span class="string">&quot;&quot;</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>å­—æ¯å¤ªå¤šæ‰“ä¸‹æ¥æ¯”è¾ƒéš¾çœ‹â€¦</p>
<p>æˆªå–ä¸€å°éƒ¨åˆ†è§£é‡Šä¸€ä¸‹â€¦</p>
<p>å¦‚æœæ˜¯æƒå€¼ç‚¹ï¼Œå°±åªæ‰“å°æƒå€¼ï¼Œå¦‚æœæ˜¯å­—æ¯ï¼Œå°±ä»¥å­—æ¯+æƒå€¼çš„æ ¼å¼æ‰“å°</p>
<p>267æ˜¯æƒå€¼ï¼Œç”±140çš„eå’Œ127çš„æƒå€¼ç»„æˆï¼Œ127æ—è¾¹æ ¹æ®ç›¸é‚»ç¨‹åº¦å¯ä»¥çœ‹åˆ°æ˜¯r63å’Œ64çš„æƒå€¼â€¦â€¦è¿™æ ·çœ‹å¥½ä¸€ç‚¹</p>
<h1>æ•´ä½“ä»£ç </h1>
<figure class="highlight go"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> (</span><br><span class="line">	<span class="string">&quot;bufio&quot;</span></span><br><span class="line">	<span class="string">&quot;fmt&quot;</span></span><br><span class="line">	<span class="string">&quot;io/ioutil&quot;</span></span><br><span class="line">	<span class="string">&quot;os&quot;</span></span><br><span class="line">	<span class="string">&quot;sort&quot;</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="keyword">type</span> Node <span class="keyword">struct</span> &#123;</span><br><span class="line">	Val    <span class="keyword">byte</span></span><br><span class="line">	Weight <span class="keyword">int</span></span><br><span class="line">	Left   *Node</span><br><span class="line">	Right  *Node</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">type</span> HuffmanTree <span class="keyword">struct</span> &#123;</span><br><span class="line">	Root *Node</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">Constructor</span><span class="params">(v <span class="keyword">byte</span>, w <span class="keyword">int</span>)</span> <span class="title">Node</span></span> &#123;</span><br><span class="line">	<span class="keyword">return</span> Node&#123;</span><br><span class="line">		v, w, <span class="literal">nil</span>, <span class="literal">nil</span>,</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> Nodes []Node</span><br><span class="line"><span class="keyword">var</span> AliceNodes []Node</span><br><span class="line"><span class="keyword">var</span> Tree = HuffmanTree&#123;Root: &amp;Node&#123;<span class="number">0</span>, <span class="number">0</span>, <span class="literal">nil</span>, <span class="literal">nil</span>&#125;&#125;</span><br><span class="line"><span class="keyword">var</span> AliceTree = HuffmanTree&#123;Root: &amp;Node&#123;<span class="number">0</span>, <span class="number">0</span>, <span class="literal">nil</span>, <span class="literal">nil</span>&#125;&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//å¯¹ç»“æ„ä½“çš„æ’åºé‡è½½</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">NodesSort</span><span class="params">()</span></span> &#123;</span><br><span class="line">	less := <span class="function"><span class="keyword">func</span><span class="params">(i, j <span class="keyword">int</span>)</span> <span class="title">bool</span></span> &#123;</span><br><span class="line">		<span class="keyword">return</span> Nodes[i].Weight &lt; Nodes[j].Weight</span><br><span class="line">	&#125;</span><br><span class="line">	sort.SliceStable(Nodes, less)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">AliceSort</span><span class="params">()</span></span> &#123;</span><br><span class="line">	sort.SliceStable(AliceNodes, <span class="function"><span class="keyword">func</span><span class="params">(i, j <span class="keyword">int</span>)</span> <span class="title">bool</span></span> &#123;</span><br><span class="line">		<span class="keyword">return</span> AliceNodes[i].Weight &lt; AliceNodes[j].Weight</span><br><span class="line">	&#125;)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//å“ˆå¤«æ›¼æ ‘æ’åºä¸ç”Ÿæˆ</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">getHuffman</span><span class="params">()</span></span> &#123;</span><br><span class="line">	<span class="keyword">for</span> <span class="built_in">len</span>(Nodes) != <span class="number">2</span> &#123;</span><br><span class="line">		newNode := Constructor(<span class="number">0</span>, Nodes[<span class="number">0</span>].Weight+Nodes[<span class="number">1</span>].Weight)</span><br><span class="line">		newNode.Left = &amp;Nodes[<span class="number">0</span>]</span><br><span class="line">		newNode.Right = &amp;Nodes[<span class="number">1</span>]</span><br><span class="line">		Nodes = <span class="built_in">append</span>(Nodes, newNode)</span><br><span class="line">		Nodes = Nodes[<span class="number">2</span>:]</span><br><span class="line">		NodesSort()</span><br><span class="line">	&#125;</span><br><span class="line">	NodesSort()</span><br><span class="line">	Tree.Root.Weight = Nodes[<span class="number">0</span>].Weight + Nodes[<span class="number">1</span>].Weight</span><br><span class="line">	Tree.Root.Left = &amp;Nodes[<span class="number">0</span>]</span><br><span class="line">	Tree.Root.Right = &amp;Nodes[<span class="number">1</span>]</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">getAliceHuf</span><span class="params">()</span></span> &#123;</span><br><span class="line">	<span class="keyword">for</span> <span class="built_in">len</span>(AliceNodes) != <span class="number">2</span> &#123;</span><br><span class="line">		newNode := Constructor(<span class="number">0</span>, AliceNodes[<span class="number">0</span>].Weight+AliceNodes[<span class="number">1</span>].Weight)</span><br><span class="line">		newNode.Left = &amp;AliceNodes[<span class="number">0</span>]</span><br><span class="line">		newNode.Right = &amp;AliceNodes[<span class="number">1</span>]</span><br><span class="line">		AliceNodes = <span class="built_in">append</span>(AliceNodes, newNode)</span><br><span class="line">		AliceNodes = AliceNodes[<span class="number">2</span>:]</span><br><span class="line">		AliceSort()</span><br><span class="line">	&#125;</span><br><span class="line">	AliceSort()</span><br><span class="line">	AliceTree.Root.Weight = AliceNodes[<span class="number">0</span>].Weight + AliceNodes[<span class="number">1</span>].Weight</span><br><span class="line">	AliceTree.Root.Left = &amp;AliceNodes[<span class="number">0</span>]</span><br><span class="line">	AliceTree.Root.Right = &amp;AliceNodes[<span class="number">1</span>]</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> store = <span class="built_in">make</span>([]<span class="keyword">string</span>, <span class="number">0</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">type</span> Bijection <span class="keyword">struct</span> &#123;</span><br><span class="line">	Char <span class="keyword">byte</span>   <span class="comment">//åŒå°„çš„å­—ç¬¦</span></span><br><span class="line">	Str  <span class="keyword">string</span> <span class="comment">//åŒå°„çš„å­—ç¬¦å¯¹åº”çš„å­—ç¬¦ä¸²</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> AliceStore = <span class="built_in">make</span>([]Bijection, <span class="number">0</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">//éå†ç”Ÿæˆå“ˆå¤«æ›¼æ ‘</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">Traverse</span><span class="params">(root *Node)</span></span> &#123;</span><br><span class="line">	<span class="keyword">if</span> root == <span class="literal">nil</span> &#123;</span><br><span class="line">		store = <span class="built_in">append</span>(store, <span class="string">&quot;nil&quot;</span>)</span><br><span class="line">		<span class="keyword">return</span></span><br><span class="line">	&#125; <span class="keyword">else</span> <span class="keyword">if</span> root.Val == <span class="number">0</span> &#123;</span><br><span class="line">		store = <span class="built_in">append</span>(store, fmt.Sprintf(<span class="string">&quot;%d&quot;</span>, root.Weight))</span><br><span class="line">		Traverse(root.Left)</span><br><span class="line">		Traverse(root.Right)</span><br><span class="line">	&#125; <span class="keyword">else</span> &#123;</span><br><span class="line">		store = <span class="built_in">append</span>(store, <span class="keyword">string</span>(root.Val))</span><br><span class="line">		Traverse(root.Left)</span><br><span class="line">		Traverse(root.Right)</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//å°†å“ˆå¤«æ›¼æ ‘çš„å†…å®¹ä¿å­˜åœ¨filenameæ–‡ä»¶ä¸­</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">SavehfmTree</span><span class="params">(filename <span class="keyword">string</span>)</span></span> &#123;</span><br><span class="line">	file, err := os.Create(filename)</span><br><span class="line">	<span class="keyword">if</span> err != <span class="literal">nil</span> &#123;</span><br><span class="line">		fmt.Println(<span class="string">&quot;Create htfTree err =&quot;</span>, err)</span><br><span class="line">		<span class="keyword">return</span></span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">defer</span> file.Close()</span><br><span class="line"></span><br><span class="line">	write := bufio.NewWriter(file)</span><br><span class="line">	Traverse(Tree.Root)</span><br><span class="line">	<span class="keyword">for</span> _, v := <span class="keyword">range</span> store &#123;</span><br><span class="line">		write.WriteString(v + <span class="string">&quot;\n&quot;</span>)</span><br><span class="line">	&#125;</span><br><span class="line">	write.Flush()</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">Initialization</span><span class="params">()</span></span> &#123;</span><br><span class="line">	fmt.Println(<span class="string">&quot;Please input the correct string (more than 2 characters) :&quot;</span>)</span><br><span class="line">	reader := bufio.NewReader(os.Stdin)</span><br><span class="line">	input, err := reader.ReadString(<span class="string">&#x27;\n&#x27;</span>)</span><br><span class="line">	<span class="keyword">if</span> err != <span class="literal">nil</span> &#123;</span><br><span class="line">		fmt.Println(<span class="string">&quot;err =&quot;</span>, err)</span><br><span class="line">		<span class="keyword">return</span></span><br><span class="line">	&#125;</span><br><span class="line">	weights := <span class="built_in">make</span>(<span class="keyword">map</span>[<span class="keyword">rune</span>]<span class="keyword">int</span>)</span><br><span class="line">	<span class="keyword">for</span> _, v := <span class="keyword">range</span> input &#123;</span><br><span class="line">		<span class="keyword">if</span> v == <span class="string">&#x27;\r&#x27;</span> &#123;</span><br><span class="line">			<span class="keyword">break</span></span><br><span class="line">		&#125;</span><br><span class="line">		weights[v]++</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">for</span> i, v := <span class="keyword">range</span> weights &#123;</span><br><span class="line">		newNode := Constructor(<span class="keyword">byte</span>(i), v)</span><br><span class="line">		Nodes = <span class="built_in">append</span>(Nodes, newNode)</span><br><span class="line">	&#125;</span><br><span class="line">	NodesSort()</span><br><span class="line">	getHuffman()</span><br><span class="line">	SavehfmTree(<span class="string">&quot;hfmTree.txt&quot;</span>)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">ShowMenu</span><span class="params">()</span></span> &#123;</span><br><span class="line">	fmt.Println(<span class="string">&quot;Please input the correct character to choose which function you would like to use:&quot;</span>)</span><br><span class="line">	fmt.Println(<span class="string">&quot;I:åˆå§‹åŒ–Initialization&quot;</span>)</span><br><span class="line">	fmt.Println(<span class="string">&quot;E:ç¼–ç Encoding&quot;</span>)</span><br><span class="line">	fmt.Println(<span class="string">&quot;D:è¯‘ç Decoding&quot;</span>)</span><br><span class="line">	fmt.Println(<span class="string">&quot;P:æ‰“å°ä»£ç æ–‡ä»¶Print&quot;</span>)</span><br><span class="line">	fmt.Println(<span class="string">&quot;T:æ‰“å°å“ˆå¤«æ›¼æ ‘Tree printing&quot;</span>)</span><br><span class="line">	fmt.Println(<span class="string">&quot;B:é€€å‡ºæœ¬ç¨‹åºå¾ªç¯Break&quot;</span>)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">Encoding</span><span class="params">()</span></span> &#123;</span><br><span class="line">	data, err := ioutil.ReadFile(<span class="string">&quot;E:/æ•°æ®ç»“æ„å’Œç®—æ³•/Week10/Alice.txt&quot;</span>)</span><br><span class="line">	<span class="keyword">if</span> err != <span class="literal">nil</span> &#123;</span><br><span class="line">		fmt.Println(<span class="string">&quot;err =&quot;</span>, err)</span><br><span class="line">		<span class="keyword">return</span></span><br><span class="line">	&#125;</span><br><span class="line">	weights := <span class="built_in">make</span>(<span class="keyword">map</span>[<span class="keyword">rune</span>]<span class="keyword">int</span>)</span><br><span class="line">	<span class="keyword">for</span> _, v := <span class="keyword">range</span> data &#123;</span><br><span class="line">		weights[<span class="keyword">rune</span>(v)]++</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">for</span> i, v := <span class="keyword">range</span> weights &#123;</span><br><span class="line">		newNode := Constructor(<span class="keyword">byte</span>(i), v)</span><br><span class="line">		AliceNodes = <span class="built_in">append</span>(AliceNodes, newNode)</span><br><span class="line">	&#125;</span><br><span class="line">	AliceSort()</span><br><span class="line">	getAliceHuf()</span><br><span class="line"></span><br><span class="line">	<span class="comment">//æ ¹æ®å“ˆå¤«æ›¼æ ‘ç”Ÿæˆå­—ç¬¦ä¸²ç”¨äºä¿å­˜æ–‡ä»¶</span></span><br><span class="line">	<span class="keyword">var</span> trav <span class="function"><span class="keyword">func</span><span class="params">(root *Node, s <span class="keyword">string</span>)</span></span></span><br><span class="line">	str := <span class="string">&quot;&quot;</span></span><br><span class="line">	trav = <span class="function"><span class="keyword">func</span><span class="params">(root *Node, s <span class="keyword">string</span>)</span></span> &#123;</span><br><span class="line">		<span class="keyword">if</span> root == <span class="literal">nil</span> &#123;</span><br><span class="line">			<span class="keyword">return</span></span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">if</span> root.Val == <span class="number">0</span> &#123;</span><br><span class="line">			trav(root.Left, s+<span class="string">&quot;0&quot;</span>)</span><br><span class="line">			trav(root.Right, s+<span class="string">&quot;1&quot;</span>)</span><br><span class="line">		&#125; <span class="keyword">else</span> &#123;</span><br><span class="line">			newBij := Bijection&#123;</span><br><span class="line">				root.Val, s,</span><br><span class="line">			&#125;</span><br><span class="line">			AliceStore = <span class="built_in">append</span>(AliceStore, newBij)</span><br><span class="line">			trav(root.Left, s+<span class="string">&quot;0&quot;</span>)</span><br><span class="line">			trav(root.Right, s+<span class="string">&quot;1&quot;</span>)</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">	trav(AliceTree.Root, str)</span><br><span class="line"></span><br><span class="line">	<span class="comment">//åˆ›å»ºå“ˆå¤«æ›¼ç¼–ç çš„æ–‡ä»¶</span></span><br><span class="line">	file, err := os.Create(<span class="string">&quot;HufCode.txt&quot;</span>)</span><br><span class="line">	<span class="keyword">if</span> err != <span class="literal">nil</span> &#123;</span><br><span class="line">		fmt.Println(<span class="string">&quot;Encoding create file err =&quot;</span>, err)</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">defer</span> file.Close()</span><br><span class="line">	write := bufio.NewWriter(file)</span><br><span class="line">	<span class="keyword">for</span> _, v := <span class="keyword">range</span> AliceStore &#123;</span><br><span class="line">		write.WriteString(<span class="keyword">string</span>(v.Char) + <span class="string">&quot; &quot;</span> + v.Str + <span class="string">&quot;\n&quot;</span>)</span><br><span class="line">	&#125;</span><br><span class="line">	write.Flush()</span><br><span class="line"></span><br><span class="line">	EncodeFile, err := os.Create(<span class="string">&quot;CodeFile.txt&quot;</span>)</span><br><span class="line">	<span class="keyword">if</span> err != <span class="literal">nil</span> &#123;</span><br><span class="line">		fmt.Println(<span class="string">&quot;Encode file create err =&quot;</span>, err)</span><br><span class="line">		<span class="keyword">return</span></span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">defer</span> EncodeFile.Close()</span><br><span class="line"></span><br><span class="line">	write = bufio.NewWriter(EncodeFile)</span><br><span class="line"></span><br><span class="line">	<span class="comment">//åˆ›å»ºä¸€ä¸ªbyte -&gt; stringçš„æ˜ å°„</span></span><br><span class="line">	x := <span class="built_in">make</span>(<span class="keyword">map</span>[<span class="keyword">byte</span>]<span class="keyword">string</span>)</span><br><span class="line">	<span class="keyword">for</span> _, v := <span class="keyword">range</span> AliceStore &#123;</span><br><span class="line">		x[v.Char] = v.Str</span><br><span class="line">	&#125;</span><br><span class="line">	write.Flush()</span><br><span class="line">	<span class="keyword">for</span> _, v := <span class="keyword">range</span> data &#123;</span><br><span class="line">		write.WriteString(x[v] + <span class="string">&quot; &quot;</span>)</span><br><span class="line">		write.Flush()</span><br><span class="line">	&#125;</span><br><span class="line">	write.Flush()</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">Decoding</span><span class="params">()</span></span> &#123;</span><br><span class="line">	data, err := ioutil.ReadFile(<span class="string">&quot;CodeFile.txt&quot;</span>)</span><br><span class="line">	<span class="keyword">if</span> err != <span class="literal">nil</span> &#123;</span><br><span class="line">		fmt.Println(<span class="string">&quot;Decoding read file err =&quot;</span>, err)</span><br><span class="line">		<span class="keyword">return</span></span><br><span class="line">	&#125;</span><br><span class="line">	<span class="comment">//åˆ›å»ºä¸€ä¸ªstring -&gt; byteçš„æ˜ å°„</span></span><br><span class="line">	y := <span class="built_in">make</span>(<span class="keyword">map</span>[<span class="keyword">string</span>]<span class="keyword">byte</span>)</span><br><span class="line">	<span class="keyword">for</span> _, v := <span class="keyword">range</span> AliceStore &#123;</span><br><span class="line">		y[v.Str] = v.Char</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	Decodefile, err := os.Create(<span class="string">&quot;TextFile.txt&quot;</span>)</span><br><span class="line">	<span class="keyword">if</span> err != <span class="literal">nil</span> &#123;</span><br><span class="line">		fmt.Println(<span class="string">&quot;Decoding create file err =&quot;</span>, err)</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">defer</span> Decodefile.Close()</span><br><span class="line"></span><br><span class="line">	writer := bufio.NewWriter(Decodefile)</span><br><span class="line">	s := <span class="string">&quot;&quot;</span></span><br><span class="line">	<span class="keyword">for</span> _, v := <span class="keyword">range</span> data &#123;</span><br><span class="line">		<span class="keyword">if</span> v == <span class="string">&#x27; &#x27;</span> &#123;</span><br><span class="line">			writer.WriteByte(y[s])</span><br><span class="line">			s = <span class="string">&quot;&quot;</span></span><br><span class="line">			writer.Flush()</span><br><span class="line">			<span class="keyword">continue</span></span><br><span class="line">		&#125; <span class="keyword">else</span> &#123;</span><br><span class="line">			s += <span class="keyword">string</span>(v)</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">Print</span><span class="params">()</span></span> &#123;</span><br><span class="line">	data, err := ioutil.ReadFile(<span class="string">&quot;CodeFile.txt&quot;</span>)</span><br><span class="line">	<span class="keyword">if</span> err != <span class="literal">nil</span> &#123;</span><br><span class="line">		fmt.Println(<span class="string">&quot;Print read file err =&quot;</span>, err)</span><br><span class="line">		<span class="keyword">return</span></span><br><span class="line">	&#125;</span><br><span class="line">	fileCopy := <span class="built_in">make</span>([]<span class="keyword">byte</span>, <span class="built_in">len</span>(data))</span><br><span class="line">	<span class="built_in">copy</span>(fileCopy, data)</span><br><span class="line">	<span class="keyword">for</span> i := <span class="keyword">range</span> data &#123;</span><br><span class="line">		<span class="keyword">if</span> i != <span class="number">0</span> &amp;&amp; i%<span class="number">50</span> == <span class="number">0</span> &#123;</span><br><span class="line">			fileCopy = <span class="built_in">append</span>(fileCopy[:i], <span class="built_in">append</span>([]<span class="keyword">byte</span>&#123;<span class="string">&#x27;\n&#x27;</span>&#125;, fileCopy[i+<span class="number">1</span>:]...)...)</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">	CodePrinFile, err := os.Create(<span class="string">&quot;CodePrin.txt&quot;</span>)</span><br><span class="line">	<span class="keyword">if</span> err != <span class="literal">nil</span> &#123;</span><br><span class="line">		fmt.Println(<span class="string">&quot;CodePrin file create err =&quot;</span>, err)</span><br><span class="line">		<span class="keyword">return</span></span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">defer</span> CodePrinFile.Close()</span><br><span class="line">	writer := bufio.NewWriter(CodePrinFile)</span><br><span class="line">	writer.WriteString(<span class="keyword">string</span>(fileCopy))</span><br><span class="line">	writer.Flush()</span><br><span class="line"></span><br><span class="line">	<span class="keyword">for</span> _, v := <span class="keyword">range</span> fileCopy &#123;</span><br><span class="line">		fmt.Printf(<span class="string">&quot;%c&quot;</span>, v)</span><br><span class="line">	&#125;</span><br><span class="line">	fmt.Println()</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">TreePrinting</span><span class="params">()</span></span> &#123;</span><br><span class="line">	<span class="keyword">var</span> PrintHelp <span class="function"><span class="keyword">func</span><span class="params">(root *Node, s <span class="keyword">string</span>)</span></span></span><br><span class="line">	PrintHelp = <span class="function"><span class="keyword">func</span><span class="params">(root *Node, s <span class="keyword">string</span>)</span></span> &#123;</span><br><span class="line">		<span class="keyword">if</span> root == <span class="literal">nil</span> &#123;</span><br><span class="line">			<span class="keyword">return</span></span><br><span class="line">		&#125;</span><br><span class="line">		s += <span class="string">&quot;\t&quot;</span></span><br><span class="line">		PrintHelp(root.Right, s)</span><br><span class="line">		<span class="keyword">if</span> root.Val == <span class="number">0</span> &#123;</span><br><span class="line">			fmt.Printf(s+<span class="string">&quot; %d\n&quot;</span>, root.Weight)</span><br><span class="line">		&#125; <span class="keyword">else</span> &#123;</span><br><span class="line">			fmt.Printf(s+<span class="string">&quot;%c%d\n&quot;</span>, root.Val, root.Weight)</span><br><span class="line">		&#125;</span><br><span class="line">		PrintHelp(root.Left, s)</span><br><span class="line">	&#125;</span><br><span class="line">	PrintHelp(AliceTree.Root, <span class="string">&quot;&quot;</span>)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">	flag := <span class="literal">true</span></span><br><span class="line">	<span class="keyword">for</span> flag &#123;</span><br><span class="line">		ShowMenu()</span><br><span class="line">		reader := bufio.NewReader(os.Stdin)</span><br><span class="line">		c, err := reader.ReadByte()</span><br><span class="line">		<span class="keyword">if</span> err != <span class="literal">nil</span> &#123;</span><br><span class="line">			fmt.Println(<span class="string">&quot;read c err =&quot;</span>, err)</span><br><span class="line">			<span class="keyword">return</span></span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">switch</span> c &#123;</span><br><span class="line">		<span class="keyword">case</span> <span class="string">&#x27;I&#x27;</span>:</span><br><span class="line">			Initialization()</span><br><span class="line">		<span class="keyword">case</span> <span class="string">&#x27;E&#x27;</span>:</span><br><span class="line">			Encoding()</span><br><span class="line">		<span class="keyword">case</span> <span class="string">&#x27;D&#x27;</span>:</span><br><span class="line">			Decoding()</span><br><span class="line">		<span class="keyword">case</span> <span class="string">&#x27;P&#x27;</span>:</span><br><span class="line">			Print()</span><br><span class="line">		<span class="keyword">case</span> <span class="string">&#x27;T&#x27;</span>:</span><br><span class="line">			TreePrinting()</span><br><span class="line">		<span class="keyword">case</span> <span class="string">&#x27;B&#x27;</span>:</span><br><span class="line">			flag = <span class="literal">false</span></span><br><span class="line">			<span class="keyword">break</span></span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h1>å®éªŒæ€»ç»“</h1>
<ol>
<li>è€å®è¯´è¿™æ˜¯æˆ‘æ•´äº†goè¯­è¨€ä»¥æ¥æ•²å¾—æœ€é•¿çš„å•ä¸ªæ–‡ä»¶äº†â€¦</li>
<li>æ•´ä½“ä¸æ˜¯ç‰¹åˆ«éš¾ï¼Œåœ¨å“ˆå¤«æ›¼æ ‘åˆ›å»ºå®Œæˆä¹‹åå°±æ²¡æœ‰ä»€ä¹ˆç‰¹åˆ«å¡æ­»äººçš„åœ°æ–¹äº†ï¼Œä¸»è¦æ˜¯æ–‡ä»¶çš„åˆ›å»ºè¯»å†™æ“ä½œä¼šå¾ˆçƒ¦ï¼Œä½†æ˜¯è€å¿ƒææå°±è§£å†³è¾£</li>
</ol>
</article><div class="tag_share"><div class="post-meta__tag-list"><a class="post-meta__tags" href="/tags/Algorithms/">Algorithms</a></div><div class="post_share"><div class="social-share" data-image="/img/47.jpg" data-sites="facebook,twitter,wechat,weibo,qq"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/social-share.js/dist/css/share.min.css" media="print" onload="this.media='all'"><script src="https://cdn.jsdelivr.net/npm/social-share.js/dist/js/social-share.min.js" defer></script></div></div><nav class="pagination-post" id="pagination"><div class="prev-post pull-left"><a href="/2022/05/16/Fk-Final-Exam-2/"><img class="prev-cover" src="/img/5.jpg" onerror="onerror=null;src='/img/404.jpg'" alt="cover of previous post"><div class="pagination-info"><div class="label">ä¸Šä¸€ç¯‡</div><div class="prev_info">Fk Final Exam 2</div></div></a></div><div class="next-post pull-right"><a href="/2022/05/03/2022-April/"><img class="next-cover" src="/img/33.jpg" onerror="onerror=null;src='/img/404.jpg'" alt="cover of next post"><div class="pagination-info"><div class="label">ä¸‹ä¸€ç¯‡</div><div class="next_info">2022 April</div></div></a></div></nav><div class="relatedPosts"><div class="headline"><i class="fas fa-thumbs-up fa-fw"></i><span>ç›¸å…³æ¨è</span></div><div class="relatedPosts-list"><div><a href="/2021/12/31/2022%E8%B7%A8%E5%B9%B4%E5%A4%9C%E4%B8%8ELeetcode/" title="2022è·¨å¹´å¤œä¸ä¸¤æ•°ä¹‹å’Œ"><img class="cover" src="/img/17.jpg" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2021-12-31</div><div class="title">2022è·¨å¹´å¤œä¸ä¸¤æ•°ä¹‹å’Œ</div></div></a></div><div><a href="/2021/12/25/About-Linked-List/" title="About Linked List"><img class="cover" src="/img/18.jpg" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2021-12-25</div><div class="title">About Linked List</div></div></a></div><div><a href="/2021/12/08/Discrete%20Mathematics%20Lab1/" title="Discrete Mathematics Lab1"><img class="cover" src="/img/3.png" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2021-12-08</div><div class="title">Discrete Mathematics Lab1</div></div></a></div><div><a href="/2021/12/14/Discrete%20Mathematics%20Lab2/" title="Discrete Mathematics Lab2"><img class="cover" src="/img/4.jpg" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2021-12-14</div><div class="title">Discrete Mathematics Lab2</div></div></a></div><div><a href="/2021/12/21/Discrete-Mathematics-Lab3/" title="Discrete Mathematics Lab3"><img class="cover" src="/img/11.jpg" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2021-12-21</div><div class="title">Discrete Mathematics Lab3</div></div></a></div><div><a href="/2021/12/27/Discrete-Mathematics-Lab4/" title="Discrete Mathematics Lab4"><img class="cover" src="/img/8.jpg" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2021-12-27</div><div class="title">Discrete Mathematics Lab4</div></div></a></div></div></div></div><div class="aside-content" id="aside-content"><div class="sticky_layout"><div class="card-widget" id="card-toc"><div class="item-headline"><i class="fas fa-stream"></i><span>ç›®å½•</span></div><div class="toc-content"><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link"><span class="toc-number">1.</span> <span class="toc-text">Target &amp; Content</span></a></li><li class="toc-item toc-level-1"><a class="toc-link"><span class="toc-number">2.</span> <span class="toc-text">Requirement</span></a></li><li class="toc-item toc-level-1"><a class="toc-link"><span class="toc-number">3.</span> <span class="toc-text">Initialization</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%A0%87%E5%87%86%E5%8C%96%E8%BE%93%E5%85%A5%E4%B8%8E%E5%BE%97%E5%88%B0%E6%9D%83%E5%80%BC"><span class="toc-number">3.1.</span> <span class="toc-text">æ ‡å‡†åŒ–è¾“å…¥ä¸å¾—åˆ°æƒå€¼</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E9%80%9A%E8%BF%87%E6%9D%83%E5%80%BC%E5%BB%BA%E7%AB%8BHuffman-Tree"><span class="toc-number">3.2.</span> <span class="toc-text">é€šè¿‡æƒå€¼å»ºç«‹Huffman Tree</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BF%9D%E5%AD%98%E4%BA%8C%E5%8F%89%E6%A0%91%E5%8F%8A%E5%86%99%E5%85%A5%E6%96%87%E4%BB%B6"><span class="toc-number">3.3.</span> <span class="toc-text">ä¿å­˜äºŒå‰æ ‘åŠå†™å…¥æ–‡ä»¶</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%80%BB%E8%A7%88"><span class="toc-number">3.4.</span> <span class="toc-text">æ€»è§ˆ</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link"><span class="toc-number">4.</span> <span class="toc-text">Encoding</span></a></li><li class="toc-item toc-level-1"><a class="toc-link"><span class="toc-number">5.</span> <span class="toc-text">Decoding</span></a></li><li class="toc-item toc-level-1"><a class="toc-link"><span class="toc-number">6.</span> <span class="toc-text">Print</span></a></li><li class="toc-item toc-level-1"><a class="toc-link"><span class="toc-number">7.</span> <span class="toc-text">Tree printing</span></a></li><li class="toc-item toc-level-1"><a class="toc-link"><span class="toc-number">8.</span> <span class="toc-text">æ•´ä½“ä»£ç </span></a></li><li class="toc-item toc-level-1"><a class="toc-link"><span class="toc-number">9.</span> <span class="toc-text">å®éªŒæ€»ç»“</span></a></li></ol></div></div></div></div></main><footer id="footer"><div id="footer-wrap"><div class="copyright">&copy;2021 - 2022 By Koui</div><div class="footer_custom_text">And in case I don't see you, Good afternoon, Good evening, and Good night!</div></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="readmode" type="button" title="é˜…è¯»æ¨¡å¼"><i class="fas fa-book-open"></i></button><button id="font-plus" type="button" title="æ”¾å¤§å­—ä½“"><i class="fas fa-plus"></i></button><button id="font-minus" type="button" title="ç¼©å°å­—ä½“"><i class="fas fa-minus"></i></button><button id="darkmode" type="button" title="æµ…è‰²å’Œæ·±è‰²æ¨¡å¼è½¬æ¢"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button" title="å•æ å’ŒåŒæ åˆ‡æ¢"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside_config" type="button" title="è®¾ç½®"><i class="fas fa-cog fa-spin"></i></button><button class="close" id="mobile-toc-button" type="button" title="ç›®å½•"><i class="fas fa-list-ul"></i></button><button id="go-up" type="button" title="å›åˆ°é¡¶éƒ¨"><i class="fas fa-arrow-up"></i></button></div></div><div><script src="/js/utils.js"></script><script src="/js/main.js"></script><script src="https://cdn.jsdelivr.net/npm/instant.page/instantpage.min.js" type="module"></script><script src="https://cdn.jsdelivr.net/npm/node-snackbar/dist/snackbar.min.js"></script><script>function panguFn () {
  if (typeof pangu === 'object') pangu.autoSpacingPage()
  else {
    getScript('https://cdn.jsdelivr.net/npm/pangu/dist/browser/pangu.min.js')
      .then(() => {
        pangu.autoSpacingPage()
      })
  }
}

function panguInit () {
  if (true){
    GLOBAL_CONFIG_SITE.isPost && panguFn()
  } else {
    panguFn()
  }
}

document.addEventListener('DOMContentLoaded', panguInit)</script><script>var preloader = {
  endLoading: () => {
    document.body.style.overflow = 'auto';
    document.getElementById('loading-box').classList.add("loaded")
  },
  initLoading: () => {
    document.body.style.overflow = '';
    document.getElementById('loading-box').classList.remove("loaded")

  }
}
window.addEventListener('load',preloader.endLoading())</script><div class="js-pjax"><script>if (!window.MathJax) {
  window.MathJax = {
    tex: {
      inlineMath: [ ['$','$'], ["\\(","\\)"]],
      tags: 'ams'
    },
    chtml: {
      scale: 1.2
    },
    options: {
      renderActions: {
        findScript: [10, doc => {
          for (const node of document.querySelectorAll('script[type^="math/tex"]')) {
            const display = !!node.type.match(/; *mode=display/)
            const math = new doc.options.MathItem(node.textContent, doc.inputJax[0], display)
            const text = document.createTextNode('')
            node.parentNode.replaceChild(text, node)
            math.start = {node: text, delim: '', n: 0}
            math.end = {node: text, delim: '', n: 0}
            doc.math.push(math)
          }
        }, ''],
        insertScript: [200, () => {
          document.querySelectorAll('mjx-container:not\([display]\)').forEach(node => {
            const target = node.parentNode
            if (target.nodeName.toLowerCase() === 'li') {
              target.parentNode.classList.add('has-jax')
            } else {
              target.classList.add('has-jax')
            }
          });
        }, '', false]
      }
    }
  }
  
  const script = document.createElement('script')
  script.src = 'https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js'
  script.id = 'MathJax-script'
  script.async = true
  document.head.appendChild(script)
} else {
  MathJax.startup.document.state(0)
  MathJax.texReset()
  MathJax.typeset()
}</script><link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/katex@latest/dist/katex.min.css"><script src="https://cdn.jsdelivr.net/npm/katex@latest/dist/contrib/copy-tex.min.js"></script><link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/katex@latest/dist/contrib/copy-tex.css"><script>(() => {
  document.querySelectorAll('#article-container span.katex-display').forEach(item => {
    btf.wrap(item, 'div', { class: 'katex-wrap'})
  })
})()</script></div><script id="canvas_nest" defer="defer" color="128,128,105" opacity="0.7" zIndex="-1" count="99" mobile="false" src="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1/dist/canvas-nest.min.js"></script><script src="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1/dist/activate-power-mode.min.js"></script><script>POWERMODE.colorful = true;
POWERMODE.shake = false;
POWERMODE.mobile = false;
document.body.addEventListener('input', POWERMODE);
</script></div></body></html>